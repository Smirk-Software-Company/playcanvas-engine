import { DebugGraphics } from '../../platform/graphics/debug-graphics.js';
import { BlendState } from '../../platform/graphics/blend-state.js';
import { RenderPass } from '../../platform/graphics/render-pass.js';
import { SHADER_PICK } from '../../scene/constants.js';

const tempMeshInstances = [];

/**
 * A render pass implementing rendering of mesh instances into a pick buffer.
 *
 * @ignore
 */
class RenderPassPicker extends RenderPass {
  constructor(device, renderer) {
    super(device);
    // uniform for the mesh index encoded into rgba
    this.pickColor = new Float32Array(4);
    this.renderer = renderer;
  }
  setup(camera, scene, layers, mapping) {
    this.camera = camera;
    this.scene = scene;
    this.layers = layers;
    this.mapping = mapping;
  }
  execute() {
    const device = this.device;
    DebugGraphics.pushGpuMarker(device, 'PICKER');
    const {
      renderer,
      camera,
      scene,
      layers,
      mapping
    } = this;
    const srcLayers = scene.layers.layerList;
    const subLayerEnabled = scene.layers.subLayerEnabled;
    const isTransparent = scene.layers.subLayerList;
    const pickColorId = device.scope.resolve('uColor');
    const pickColor = this.pickColor;
    for (let i = 0; i < srcLayers.length; i++) {
      const srcLayer = srcLayers[i];

      // skip the layer if it does not match the provided ones
      if (layers && layers.indexOf(srcLayer) < 0) {
        continue;
      }
      if (srcLayer.enabled && subLayerEnabled[i]) {
        // if the layer is rendered by the camera
        const layerCamId = srcLayer.cameras.indexOf(camera);
        if (layerCamId >= 0) {
          // if the layer clears the depth
          if (srcLayer._clearDepthBuffer) {
            renderer.clear(camera.camera, false, true, false);
          }
          const culledInstances = srcLayer.getCulledInstances(camera.camera);
          const meshInstances = isTransparent[i] ? culledInstances.transparent : culledInstances.opaque;

          // only need mesh instances with a pick flag
          for (let j = 0; j < meshInstances.length; j++) {
            const meshInstance = meshInstances[j];
            if (meshInstance.pick) {
              tempMeshInstances.push(meshInstance);

              // keep the index -> meshInstance index mapping
              mapping.set(meshInstance.id, meshInstance);
            }
          }
          const lights = [[], [], []];
          renderer.renderForward(camera.camera, tempMeshInstances, lights, SHADER_PICK, meshInstance => {
            const miId = meshInstance.id;
            pickColor[0] = (miId >> 16 & 0xff) / 255;
            pickColor[1] = (miId >> 8 & 0xff) / 255;
            pickColor[2] = (miId & 0xff) / 255;
            pickColor[3] = (miId >> 24 & 0xff) / 255;
            pickColorId.setValue(pickColor);
            device.setBlendState(BlendState.NOBLEND);
          });
          tempMeshInstances.length = 0;
        }
      }
    }
    DebugGraphics.popGpuMarker(device);
  }
}

export { RenderPassPicker };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLXBhc3MtcGlja2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2dyYXBoaWNzL3JlbmRlci1wYXNzLXBpY2tlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1Z0dyYXBoaWNzIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvZGVidWctZ3JhcGhpY3MuanMnO1xuaW1wb3J0IHsgQmxlbmRTdGF0ZSB9IGZyb20gJy4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL2JsZW5kLXN0YXRlLmpzJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9yZW5kZXItcGFzcy5qcyc7XG5cbmltcG9ydCB7IFNIQURFUl9QSUNLIH0gZnJvbSAnLi4vLi4vc2NlbmUvY29uc3RhbnRzLmpzJztcblxuY29uc3QgdGVtcE1lc2hJbnN0YW5jZXMgPSBbXTtcblxuLyoqXG4gKiBBIHJlbmRlciBwYXNzIGltcGxlbWVudGluZyByZW5kZXJpbmcgb2YgbWVzaCBpbnN0YW5jZXMgaW50byBhIHBpY2sgYnVmZmVyLlxuICpcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgUmVuZGVyUGFzc1BpY2tlciBleHRlbmRzIFJlbmRlclBhc3Mge1xuICAgIC8vIHVuaWZvcm0gZm9yIHRoZSBtZXNoIGluZGV4IGVuY29kZWQgaW50byByZ2JhXG4gICAgcGlja0NvbG9yID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgcmVuZGVyZXIpIHtcbiAgICAgICAgc3VwZXIoZGV2aWNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIHNldHVwKGNhbWVyYSwgc2NlbmUsIGxheWVycywgbWFwcGluZykge1xuICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLmxheWVycyA9IGxheWVycztcbiAgICAgICAgdGhpcy5tYXBwaW5nID0gbWFwcGluZztcbiAgICB9XG5cbiAgICBleGVjdXRlKCkge1xuICAgICAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmRldmljZTtcbiAgICAgICAgRGVidWdHcmFwaGljcy5wdXNoR3B1TWFya2VyKGRldmljZSwgJ1BJQ0tFUicpO1xuXG4gICAgICAgIGNvbnN0IHsgcmVuZGVyZXIsIGNhbWVyYSwgc2NlbmUsIGxheWVycywgbWFwcGluZyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc3JjTGF5ZXJzID0gc2NlbmUubGF5ZXJzLmxheWVyTGlzdDtcbiAgICAgICAgY29uc3Qgc3ViTGF5ZXJFbmFibGVkID0gc2NlbmUubGF5ZXJzLnN1YkxheWVyRW5hYmxlZDtcbiAgICAgICAgY29uc3QgaXNUcmFuc3BhcmVudCA9IHNjZW5lLmxheWVycy5zdWJMYXllckxpc3Q7XG5cbiAgICAgICAgY29uc3QgcGlja0NvbG9ySWQgPSBkZXZpY2Uuc2NvcGUucmVzb2x2ZSgndUNvbG9yJyk7XG4gICAgICAgIGNvbnN0IHBpY2tDb2xvciA9IHRoaXMucGlja0NvbG9yO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjTGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNMYXllciA9IHNyY0xheWVyc1tpXTtcblxuICAgICAgICAgICAgLy8gc2tpcCB0aGUgbGF5ZXIgaWYgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIHByb3ZpZGVkIG9uZXNcbiAgICAgICAgICAgIGlmIChsYXllcnMgJiYgbGF5ZXJzLmluZGV4T2Yoc3JjTGF5ZXIpIDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3JjTGF5ZXIuZW5hYmxlZCAmJiBzdWJMYXllckVuYWJsZWRbaV0pIHtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBsYXllciBpcyByZW5kZXJlZCBieSB0aGUgY2FtZXJhXG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJDYW1JZCA9IHNyY0xheWVyLmNhbWVyYXMuaW5kZXhPZihjYW1lcmEpO1xuICAgICAgICAgICAgICAgIGlmIChsYXllckNhbUlkID49IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgbGF5ZXIgY2xlYXJzIHRoZSBkZXB0aFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjTGF5ZXIuX2NsZWFyRGVwdGhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNsZWFyKGNhbWVyYS5jYW1lcmEsIGZhbHNlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdWxsZWRJbnN0YW5jZXMgPSBzcmNMYXllci5nZXRDdWxsZWRJbnN0YW5jZXMoY2FtZXJhLmNhbWVyYSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc2hJbnN0YW5jZXMgPSBpc1RyYW5zcGFyZW50W2ldID8gY3VsbGVkSW5zdGFuY2VzLnRyYW5zcGFyZW50IDogY3VsbGVkSW5zdGFuY2VzLm9wYXF1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IG5lZWQgbWVzaCBpbnN0YW5jZXMgd2l0aCBhIHBpY2sgZmxhZ1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1lc2hJbnN0YW5jZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc2hJbnN0YW5jZSA9IG1lc2hJbnN0YW5jZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzaEluc3RhbmNlLnBpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wTWVzaEluc3RhbmNlcy5wdXNoKG1lc2hJbnN0YW5jZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBpbmRleCAtPiBtZXNoSW5zdGFuY2UgaW5kZXggbWFwcGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcuc2V0KG1lc2hJbnN0YW5jZS5pZCwgbWVzaEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpZ2h0cyA9IFtbXSwgW10sIFtdXTtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyRm9yd2FyZChjYW1lcmEuY2FtZXJhLCB0ZW1wTWVzaEluc3RhbmNlcywgbGlnaHRzLCBTSEFERVJfUElDSywgKG1lc2hJbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWlJZCA9IG1lc2hJbnN0YW5jZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tDb2xvclswXSA9ICgobWlJZCA+PiAxNikgJiAweGZmKSAvIDI1NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tDb2xvclsxXSA9ICgobWlJZCA+PiA4KSAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGlja0NvbG9yWzJdID0gKG1pSWQgJiAweGZmKSAvIDI1NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tDb2xvclszXSA9ICgobWlJZCA+PiAyNCkgJiAweGZmKSAvIDI1NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tDb2xvcklkLnNldFZhbHVlKHBpY2tDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2Uuc2V0QmxlbmRTdGF0ZShCbGVuZFN0YXRlLk5PQkxFTkQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0ZW1wTWVzaEluc3RhbmNlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIERlYnVnR3JhcGhpY3MucG9wR3B1TWFya2VyKGRldmljZSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBSZW5kZXJQYXNzUGlja2VyIH07XG4iXSwibmFtZXMiOlsidGVtcE1lc2hJbnN0YW5jZXMiLCJSZW5kZXJQYXNzUGlja2VyIiwiUmVuZGVyUGFzcyIsImNvbnN0cnVjdG9yIiwiZGV2aWNlIiwicmVuZGVyZXIiLCJwaWNrQ29sb3IiLCJGbG9hdDMyQXJyYXkiLCJzZXR1cCIsImNhbWVyYSIsInNjZW5lIiwibGF5ZXJzIiwibWFwcGluZyIsImV4ZWN1dGUiLCJEZWJ1Z0dyYXBoaWNzIiwicHVzaEdwdU1hcmtlciIsInNyY0xheWVycyIsImxheWVyTGlzdCIsInN1YkxheWVyRW5hYmxlZCIsImlzVHJhbnNwYXJlbnQiLCJzdWJMYXllckxpc3QiLCJwaWNrQ29sb3JJZCIsInNjb3BlIiwicmVzb2x2ZSIsImkiLCJsZW5ndGgiLCJzcmNMYXllciIsImluZGV4T2YiLCJlbmFibGVkIiwibGF5ZXJDYW1JZCIsImNhbWVyYXMiLCJfY2xlYXJEZXB0aEJ1ZmZlciIsImNsZWFyIiwiY3VsbGVkSW5zdGFuY2VzIiwiZ2V0Q3VsbGVkSW5zdGFuY2VzIiwibWVzaEluc3RhbmNlcyIsInRyYW5zcGFyZW50Iiwib3BhcXVlIiwiaiIsIm1lc2hJbnN0YW5jZSIsInBpY2siLCJwdXNoIiwic2V0IiwiaWQiLCJsaWdodHMiLCJyZW5kZXJGb3J3YXJkIiwiU0hBREVSX1BJQ0siLCJtaUlkIiwic2V0VmFsdWUiLCJzZXRCbGVuZFN0YXRlIiwiQmxlbmRTdGF0ZSIsIk5PQkxFTkQiLCJwb3BHcHVNYXJrZXIiXSwibWFwcGluZ3MiOiI7Ozs7O0FBTUEsTUFBTUEsaUJBQWlCLEdBQUcsRUFBRSxDQUFBOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsZ0JBQWdCLFNBQVNDLFVBQVUsQ0FBQztBQUl0Q0MsRUFBQUEsV0FBV0EsQ0FBQ0MsTUFBTSxFQUFFQyxRQUFRLEVB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
