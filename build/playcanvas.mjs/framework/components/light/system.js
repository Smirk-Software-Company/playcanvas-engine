import { Color } from '../../../core/math/color.js';
import { Vec2 } from '../../../core/math/vec2.js';
import { LIGHTSHAPE_PUNCTUAL } from '../../../scene/constants.js';
import { Light, lightTypes } from '../../../scene/light.js';
import { ComponentSystem } from '../system.js';
import { LightComponent, _lightProps } from './component.js';
import { LightComponentData } from './data.js';

/**
 * A Light Component is used to dynamically light the scene.
 *
 * @augments ComponentSystem
 * @category Graphics
 */
class LightComponentSystem extends ComponentSystem {
  /**
   * Create a new LightComponentSystem instance.
   *
   * @param {import('../../app-base.js').AppBase} app - The application.
   * @hideconstructor
   */
  constructor(app) {
    super(app);
    this.id = 'light';
    this.ComponentType = LightComponent;
    this.DataType = LightComponentData;
    this.on('beforeremove', this._onRemoveComponent, this);
  }
  initializeComponentData(component, _data) {
    const properties = _lightProps;

    // duplicate because we're modifying the data
    const data = {};
    for (let i = 0, len = properties.length; i < len; i++) {
      const property = properties[i];
      data[property] = _data[property];
    }
    if (!data.type) data.type = component.data.type;
    component.data.type = data.type;
    if (data.layers && Array.isArray(data.layers)) {
      data.layers = data.layers.slice(0);
    }
    if (data.color && Array.isArray(data.color)) data.color = new Color(data.color[0], data.color[1], data.color[2]);
    if (data.cookieOffset && data.cookieOffset instanceof Array) data.cookieOffset = new Vec2(data.cookieOffset[0], data.cookieOffset[1]);
    if (data.cookieScale && data.cookieScale instanceof Array) data.cookieScale = new Vec2(data.cookieScale[0], data.cookieScale[1]);
    if (data.enable) {
      console.warn('WARNING: enable: Property is deprecated. Set enabled property instead.');
      data.enabled = data.enable;
    }
    if (!data.shape) {
      data.shape = LIGHTSHAPE_PUNCTUAL;
    }
    const light = new Light(this.app.graphicsDevice);
    light.type = lightTypes[data.type];
    light._node = component.entity;
    component.data.light = light;
    super.initializeComponentData(component, data, properties);
  }
  _onRemoveComponent(entity, component) {
    component.onRemove();
  }
  cloneComponent(entity, clone) {
    const light = entity.light;
    const data = [];
    let name;
    const _props = _lightProps;
    for (let i = 0; i < _props.length; i++) {
      name = _props[i];
      if (name === 'light') continue;
      if (light[name] && light[name].clone) {
        data[name] = light[name].clone();
      } else {
        data[name] = light[name];
      }
    }
    return this.addComponent(clone, data);
  }
  changeType(component, oldValue, newValue) {
    if (oldValue !== newValue) {
      component.light.type = lightTypes[newValue];
    }
  }
}

export { LightComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvbGlnaHQvc3lzdGVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tYXRoL2NvbG9yLmpzJztcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgvdmVjMi5qcyc7XG5cbmltcG9ydCB7IExJR0hUU0hBUEVfUFVOQ1RVQUwgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgTGlnaHQsIGxpZ2h0VHlwZXMgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9saWdodC5qcyc7XG5cbmltcG9ydCB7IENvbXBvbmVudFN5c3RlbSB9IGZyb20gJy4uL3N5c3RlbS5qcyc7XG5cbmltcG9ydCB7IF9saWdodFByb3BzLCBMaWdodENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50LmpzJztcbmltcG9ydCB7IExpZ2h0Q29tcG9uZW50RGF0YSB9IGZyb20gJy4vZGF0YS5qcyc7XG5cbi8qKlxuICogQSBMaWdodCBDb21wb25lbnQgaXMgdXNlZCB0byBkeW5hbWljYWxseSBsaWdodCB0aGUgc2NlbmUuXG4gKlxuICogQGF1Z21lbnRzIENvbXBvbmVudFN5c3RlbVxuICogQGNhdGVnb3J5IEdyYXBoaWNzXG4gKi9cbmNsYXNzIExpZ2h0Q29tcG9uZW50U3lzdGVtIGV4dGVuZHMgQ29tcG9uZW50U3lzdGVtIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTGlnaHRDb21wb25lbnRTeXN0ZW0gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vYXBwLWJhc2UuanMnKS5BcHBCYXNlfSBhcHAgLSBUaGUgYXBwbGljYXRpb24uXG4gICAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuXG4gICAgICAgIHRoaXMuaWQgPSAnbGlnaHQnO1xuXG4gICAgICAgIHRoaXMuQ29tcG9uZW50VHlwZSA9IExpZ2h0Q29tcG9uZW50O1xuICAgICAgICB0aGlzLkRhdGFUeXBlID0gTGlnaHRDb21wb25lbnREYXRhO1xuXG4gICAgICAgIHRoaXMub24oJ2JlZm9yZXJlbW92ZScsIHRoaXMuX29uUmVtb3ZlQ29tcG9uZW50LCB0aGlzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29tcG9uZW50RGF0YShjb21wb25lbnQsIF9kYXRhKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBfbGlnaHRQcm9wcztcblxuICAgICAgICAvLyBkdXBsaWNhdGUgYmVjYXVzZSB3ZSdyZSBtb2RpZnlpbmcgdGhlIGRhdGFcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgZGF0YVtwcm9wZXJ0eV0gPSBfZGF0YVtwcm9wZXJ0eV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRhdGEudHlwZSlcbiAgICAgICAgICAgIGRhdGEudHlwZSA9IGNvbXBvbmVudC5kYXRhLnR5cGU7XG5cbiAgICAgICAgY29tcG9uZW50LmRhdGEudHlwZSA9IGRhdGEudHlwZTtcblxuICAgICAgICBpZiAoZGF0YS5sYXllcnMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmxheWVycykpIHtcbiAgICAgICAgICAgIGRhdGEubGF5ZXJzID0gZGF0YS5sYXllcnMuc2xpY2UoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5jb2xvciAmJiBBcnJheS5pc0FycmF5KGRhdGEuY29sb3IpKVxuICAgICAgICAgICAgZGF0YS5jb2xvciA9IG5ldyBDb2xvcihkYXRhLmNvbG9yWzBdLCBkYXRhLmNvbG9yWzFdLCBkYXRhLmNvbG9yWzJdKTtcblxuICAgICAgICBpZiAoZGF0YS5jb29raWVPZmZzZXQgJiYgZGF0YS5jb29raWVPZmZzZXQgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAgICAgIGRhdGEuY29va2llT2Zmc2V0ID0gbmV3IFZlYzIoZGF0YS5jb29raWVPZmZzZXRbMF0sIGRhdGEuY29va2llT2Zmc2V0WzFdKTtcblxuICAgICAgICBpZiAoZGF0YS5jb29raWVTY2FsZSAmJiBkYXRhLmNvb2tpZVNjYWxlIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICBkYXRhLmNvb2tpZVNjYWxlID0gbmV3IFZlYzIoZGF0YS5jb29raWVTY2FsZVswXSwgZGF0YS5jb29raWVTY2FsZVsxXSk7XG5cbiAgICAgICAgaWYgKGRhdGEuZW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGVuYWJsZTogUHJvcGVydHkgaXMgZGVwcmVjYXRlZC4gU2V0IGVuYWJsZWQgcHJvcGVydHkgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIGRhdGEuZW5hYmxlZCA9IGRhdGEuZW5hYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhLnNoYXBlKSB7XG4gICAgICAgICAgICBkYXRhLnNoYXBlID0gTElHSFRTSEFQRV9QVU5DVFVBTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gbmV3IExpZ2h0KHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlKTtcbiAgICAgICAgbGlnaHQudHlwZSA9IGxpZ2h0VHlwZXNbZGF0YS50eXBlXTtcbiAgICAgICAgbGlnaHQuX25vZGUgPSBjb21wb25lbnQuZW50aXR5O1xuICAgICAgICBjb21wb25lbnQuZGF0YS5saWdodCA9IGxpZ2h0O1xuXG4gICAgICAgIHN1cGVyLmluaXRpYWxpemVDb21wb25lbnREYXRhKGNvbXBvbmVudCwgZGF0YSwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgX29uUmVtb3ZlQ29tcG9uZW50KGVudGl0eSwgY29tcG9uZW50KSB7XG4gICAgICAgIGNvbXBvbmVudC5vblJlbW92ZSgpO1xuICAgIH1cblxuICAgIGNsb25lQ29tcG9uZW50KGVudGl0eSwgY2xvbmUpIHtcbiAgICAgICAgY29uc3QgbGlnaHQgPSBlbnRpdHkubGlnaHQ7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IFtdO1xuICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgY29uc3QgX3Byb3BzID0gX2xpZ2h0UHJvcHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3Byb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuYW1lID0gX3Byb3BzW2ldO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdsaWdodCcpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGxpZ2h0W25hbWVdICYmIGxpZ2h0W25hbWVdLmNsb25lKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtuYW1lXSA9IGxpZ2h0W25hbWVdLmNsb25lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGFbbmFtZV0gPSBsaWdodFtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFkZENvbXBvbmVudChjbG9uZSwgZGF0YSk7XG4gICAgfVxuXG4gICAgY2hhbmdlVHlwZShjb21wb25lbnQsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBjb21wb25lbnQubGlnaHQudHlwZSA9IGxpZ2h0VHlwZXNbbmV3VmFsdWVdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBMaWdodENvbXBvbmVudFN5c3RlbSB9O1xuIl0sIm5hbWVzIjpbIkxpZ2h0Q29tcG9uZW50U3lzdGVtIiwiQ29tcG9uZW50U3lzdGVtIiwiY29uc3RydWN0b3IiLCJhcHAiLCJpZCIsIkNvbXBvbmVudFR5cGUiLCJMaWdodENvbXBvbmVudCIsIkRhdGFUeXBlIiwiTGlnaHRDb21wb25lbnREYXRhIiwib24iLCJfb25SZW1vdmVDb21wb25lbnQiLCJpbml0aWFsaXplQ29tcG9uZW50RGF0YSIsImNvbXBvbmVudCIsIl9kYXRhIiwicHJvcGVydGllcyIsIl9saWdodFByb3BzIiwiZGF0YSIsImkiLCJsZW4iLCJsZW5ndGgiLCJwcm9wZXJ0eSIsInR5cGUiLCJsYXllcnMiLCJBcnJheSIsImlzQXJyYXkiLCJzbGljZSIsImNvbG9yIiwiQ29sb3IiLCJjb29raWVPZmZzZXQiLCJWZWMyIiwiY29va2llU2NhbGUiLCJlbmFibGUiLCJjb25zb2xlIiwid2FybiIsImVuYWJsZWQiLCJzaGFwZSIsIkxJR0hUU0hBUEVfUFVOQ1RVQUwiLCJsaWdodCIsIkxpZ2h0IiwiZ3JhcGhpY3NEZXZpY2UiLCJsaWdodFR5cGVzIiwiX25vZGUiLCJlbnRpdHkiLCJvblJlbW92ZSIsImNsb25lQ29tcG9uZW50IiwiY2xvbmUiLCJuYW1lIiwiX3Byb3BzIiwiYWRkQ29tcG9uZW50IiwiY2hhbmdlVHlwZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsb0JBQW9CLFNBQVNDLGVBQWUsQ0FBQztBQUMvQztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSUMsV0FBV0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2IsS0FBSyxDQUFDQSxHQUFHLENBQUMsQ0FBQTtJQUVWLElBQUksQ0FBQ0MsRUFBRSxHQUFHLE9BQU8sQ0FBQTtJQUVqQixJQUFJLENBQUNDLGFBQWEsR0FBR0MsY0FBYyxDQUFBO0lBQ25DLElBQUksQ0FBQ0MsUUFBUSxHQUFHQyxrQkFBa0IsQ0FBQTtJQUVsQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUMxRCxH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
