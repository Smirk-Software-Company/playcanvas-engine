import { math } from '../../../core/math/math.js';
import { Color } from '../../../core/math/color.js';
import { Vec4 } from '../../../core/math/vec4.js';
import { LIGHTSHAPE_PUNCTUAL, LIGHTFALLOFF_LINEAR, SHADOW_PCF3, BLUR_GAUSSIAN, SHADOWUPDATE_REALTIME, MASK_AFFECT_DYNAMIC, MASK_AFFECT_LIGHTMAPPED, MASK_BAKE, LAYERID_WORLD } from '../../../scene/constants.js';
import { Asset } from '../../asset/asset.js';
import { Component } from '../component.js';

const _lightProps = [];
const _lightPropsDefault = [];

/**
 * The Light Component enables the Entity to light the scene. There are three types of light:
 * directional, omni and spot. Directional lights are global in that they are considered to be
 * infinitely far away and light the entire scene. Omni and spot lights are local in that they have
 * a position and a range. A spot light is a specialization of an omni light where light is emitted
 * in a cone rather than in all directions. Lights also have the ability to cast shadows to add
 * realism to your scenes.
 *
 * ```javascript
 * // Add a pc.LightComponent to an entity
 * const entity = new pc.Entity();
 * entity.addComponent('light', {
 *     type: "omni",
 *     color: new pc.Color(1, 0, 0),
 *     range: 10
 * });
 *
 * // Get the pc.LightComponent on an entity
 * const lightComponent = entity.light;
 *
 * // Update a property on a light component
 * entity.light.range = 20;
 * ```
 *
 * @property {string} type The type of light. Can be:
 *
 * - "directional": A light that is infinitely far away and lights the entire scene from one
 * direction.
 * - "omni": An omni-directional light that illuminates in all directions from the light source.
 * - "spot": An omni-directional light but is bounded by a cone.
 *
 * Defaults to "directional".
 * @property {Color} color The Color of the light. The alpha component of the color is ignored.
 * Defaults to white (1, 1, 1).
 * @property {number} intensity The brightness of the light. Defaults to 1.
 * @property {number} luminance The physically based luminance. Only used if scene.physicalUnits is true. Defaults to 0.
 * @property {number} shape The light source shape. Can be:
 *
 * - {@link LIGHTSHAPE_PUNCTUAL}: Infinitesimally small point.
 * - {@link LIGHTSHAPE_RECT}: Rectangle shape.
 * - {@link LIGHTSHAPE_DISK}: Disk shape.
 * - {@link LIGHTSHAPE_SPHERE}: Sphere shape.
 *
 * Defaults to pc.LIGHTSHAPE_PUNCTUAL.
 * @property {boolean} affectSpecularity If enabled and the light type is pc.LIGHTTYPE_DIRECTIONAL, material specularity
 * will not be affected by this light. Defaults to true.
 * @property {boolean} castShadows If enabled the light will cast shadows. Defaults to false.
 * @property {number} shadowDistance The distance from the viewpoint beyond which shadows are no
 * longer rendered. Affects directional lights only. Defaults to 40.
 * @property {number} shadowIntensity The intensity of the shadow darkening, 1 being shadows are entirely black.
 * Defaults to 1.
 * @property {number} shadowResolution The size of the texture used for the shadow map. Valid sizes
 * are 64, 128, 256, 512, 1024, 2048. Defaults to 1024.
 * @property {number} shadowBias The depth bias for tuning the appearance of the shadow mapping
 * generated by this light. Valid range is 0 to 1. Defaults to 0.05.
 * @property {number} numCascades Number of shadow cascades. Can be 1, 2, 3 or 4. Defaults to 1,
 * representing no cascades.
 * @property {number} cascadeDistribution The distribution of subdivision of the camera frustum for
 * individual shadow cascades. Only used if {@link LightComponent#numCascades} is larger than 1.
 * Can be a value in range of 0 and 1. Value of 0 represents a linear distribution, value of 1
 * represents a logarithmic distribution. Defaults to 0.5. Larger value increases the resolution of
 * the shadows in the near distance.
 * @property {number} normalOffsetBias Normal offset depth bias. Valid range is 0 to 1. Defaults to
 * 0.
 * @property {number} range The range of the light. Affects omni and spot lights only. Defaults to
 * 10.
 * @property {number} innerConeAngle The angle at which the spotlight cone starts to fade off. The
 * angle is specified in degrees. Affects spot lights only. Defaults to 40.
 * @property {number} outerConeAngle The angle at which the spotlight cone has faded to nothing.
 * The angle is specified in degrees. Affects spot lights only. Defaults to 45.
 * @property {number} penumbraSize Size of penumbra for contact hardening shadows. For area lights
 * acts as a multiplier with the dimensions of the area light. For punctual and directional lights
 * it's the area size of the light. Defaults to 1.0.
 * @property {number} falloffMode Controls the rate at which a light attenuates from its position.
 * Can be:
 *
 * - {@link LIGHTFALLOFF_LINEAR}: Linear.
 * - {@link LIGHTFALLOFF_INVERSESQUARED}: Inverse squared.
 *
 * Affects omni and spot lights only. Defaults to {@link LIGHTFALLOFF_LINEAR}.
 * @property {number} mask Defines a mask to determine which {@link MeshInstance}s are lit by this
 * light. Defaults to 1.
 * @property {boolean} affectDynamic If enabled the light will affect non-lightmapped objects.
 * @property {boolean} affectLightmapped If enabled the light will affect lightmapped objects.
 * @property {boolean} bake If enabled the light will be rendered into lightmaps.
 * @property {number} bakeNumSamples If bake is true, this specifies the number of samples used to
 * bake this light into the lightmap. Defaults to 1. Maximum value is 255.
 * @property {number} bakeArea If bake is true and the light type is {@link LIGHTTYPE_DIRECTIONAL},
 * this specifies the penumbra angle in degrees, allowing a soft shadow boundary. Defaults to 0.
 * @property {boolean} bakeDir If enabled and bake=true, the light's direction will contribute to
 * directional lightmaps. Be aware, that directional lightmap is an approximation and can only hold
 * single direction per pixel. Intersecting multiple lights with bakeDir=true may lead to incorrect
 * look of specular/bump-mapping in the area of intersection. The error is not always visible
 * though, and highly scene-dependent.
 * @property {number} shadowUpdateMode Tells the renderer how often shadows must be updated for
 * this light. Can be:
 *
 * - {@link SHADOWUPDATE_NONE}: Don't render shadows.
 * - {@link SHADOWUPDATE_THISFRAME}: Render shadows only once (then automatically switches to
 * {@link SHADOWUPDATE_NONE}.
 * - {@link SHADOWUPDATE_REALTIME}: Render shadows every frame (default).
 * @property {number} shadowType Type of shadows being rendered by this light. Options:
 *
 * - {@link SHADOW_PCF3}: Render depth (color-packed on WebGL 1.0), can be used for PCF 3x3
 * sampling.
 * - {@link SHADOW_VSM8}: Render packed variance shadow map. All shadow receivers must also cast
 * shadows for this mode to work correctly.
 * - {@link SHADOW_VSM16}: Render 16-bit exponential variance shadow map. Requires
 * OES_texture_half_float extension. Falls back to {@link SHADOW_VSM8}, if not supported.
 * - {@link SHADOW_VSM32}: Render 32-bit exponential variance shadow map. Requires
 * OES_texture_float extension. Falls back to {@link SHADOW_VSM16}, if not supported.
 * - {@link SHADOW_PCF5}: Render depth buffer only, can be used for hardware-accelerated PCF 5x5
 * sampling. Requires WebGL2. Falls back to {@link SHADOW_PCF3} on WebGL 1.0.
 * - {@link SHADOW_PCSS}: Render depth as color, and use the software sampled PCSS method for shadows.
 * @property {number} vsmBlurMode Blurring mode for variance shadow maps. Can be:
 *
 * - {@link BLUR_BOX}: Box filter.
 * - {@link BLUR_GAUSSIAN}: Gaussian filter. May look smoother than box, but requires more samples.
 * @property {number} vsmBlurSize Number of samples used for blurring a variance shadow map. Only
 * uneven numbers work, even are incremented. Minimum value is 1, maximum is 25. Defaults to 11.
 * @property {number} cookieAsset Asset that has texture that will be assigned to cookie internally
 * once asset resource is available.
 * @property {Texture} cookie Projection texture. Must be 2D for spot and cubemap for omni light
 * (ignored if incorrect type is used).
 * @property {number} cookieIntensity Projection texture intensity (default is 1).
 * @property {boolean} cookieFalloff Toggle normal spotlight falloff when projection texture is
 * used. When set to false, spotlight will work like a pure texture projector (only fading with
 * distance). Default is false.
 * @property {string} cookieChannel Color channels of the projection texture to use. Can be "r",
 * "g", "b", "a", "rgb".
 * @property {number} cookieAngle Angle for spotlight cookie rotation.
 * @property {import('../../../core/math/vec2.js').Vec2} cookieScale Spotlight cookie scale.
 * @property {import('../../../core/math/vec2.js').Vec2} cookieOffset Spotlight cookie position
 * offset.
 * @property {boolean} isStatic Mark light as non-movable (optimization).
 * @property {number[]} layers An array of layer IDs ({@link Layer#id}) to which this light should
 * belong. Don't push/pop/splice or modify this array, if you want to change it - set a new one
 * instead.
 * @augments Component
 * @category Graphics
 */
class LightComponent extends Component {
  /**
   * Creates a new LightComponent instance.
   *
   * @param {import('./system.js').LightComponentSystem} system - The ComponentSystem that
   * created this Component.
   * @param {import('../../entity.js').Entity} entity - The Entity that this Component is
   * attached to.
   */
  constructor(system, entity) {
    super(system, entity);
    this._cookieAsset = null;
    this._cookieAssetId = null;
    this._cookieAssetAdd = false;
    this._cookieMatrix = null;
  }
  addLightToLayers() {
    for (let i = 0; i < this.layers.length; i++) {
      const layer = this.system.app.scene.layers.getLayerById(this.layers[i]);
      if (layer) {
        layer.addLight(this);
        this.light.addLayer(layer);
      }
    }
  }
  removeLightFromLayers() {
    for (let i = 0; i < this.layers.length; i++) {
      const layer = this.system.app.scene.layers.getLayerById(this.layers[i]);
      if (layer) {
        layer.removeLight(this);
        this.light.removeLayer(layer);
      }
    }
  }
  onLayersChanged(oldComp, newComp) {
    if (this.enabled && this.entity.enabled) {
      this.addLightToLayers();
    }
    oldComp.off('add', this.onLayerAdded, this);
    oldComp.off('remove', this.onLayerRemoved, this);
    newComp.on('add', this.onLayerAdded, this);
    newComp.on('remove', this.onLayerRemoved, this);
  }
  onLayerAdded(layer) {
    const index = this.layers.indexOf(layer.id);
    if (index >= 0 && this.enabled && this.entity.enabled) {
      layer.addLight(this);
      this.light.addLayer(layer);
    }
  }
  onLayerRemoved(layer) {
    const index = this.layers.indexOf(layer.id);
    if (index >= 0) {
      layer.removeLight(this);
      this.light.removeLayer(layer);
    }
  }
  refreshProperties() {
    for (let i = 0; i < _lightProps.length; i++) {
      const name = _lightProps[i];

      /* eslint-disable no-self-assign */
      this[name] = this[name];
      /* eslint-enable no-self-assign */
    }

    if (this.enabled && this.entity.enabled) this.onEnable();
  }
  onCookieAssetSet() {
    let forceLoad = false;
    if (this._cookieAsset.type === 'cubemap' && !this._cookieAsset.loadFaces) {
      this._cookieAsset.loadFaces = true;
      forceLoad = true;
    }
    if (!this._cookieAsset.resource || forceLoad) this.system.app.assets.load(this._cookieAsset);
    if (this._cookieAsset.resource) this.onCookieAssetLoad();
  }
  onCookieAssetAdd(asset) {
    if (this._cookieAssetId !== asset.id) return;
    this._cookieAsset = asset;
    if (this.light.enabled) this.onCookieAssetSet();
    this._cookieAsset.on('load', this.onCookieAssetLoad, this);
    this._cookieAsset.on('remove', this.onCookieAssetRemove, this);
  }
  onCookieAssetLoad() {
    if (!this._cookieAsset || !this._cookieAsset.resource) return;
    this.cookie = this._cookieAsset.resource;
  }
  onCookieAssetRemove() {
    if (!this._cookieAssetId) return;
    if (this._cookieAssetAdd) {
      this.system.app.assets.off('add:' + this._cookieAssetId, this.onCookieAssetAdd, this);
      this._cookieAssetAdd = false;
    }
    if (this._cookieAsset) {
      this._cookieAsset.off('load', this.onCookieAssetLoad, this);
      this._cookieAsset.off('remove', this.onCookieAssetRemove, this);
      this._cookieAsset = null;
    }
    this.cookie = null;
  }
  onEnable() {
    this.light.enabled = true;
    this.system.app.scene.on('set:layers', this.onLayersChanged, this);
    if (this.system.app.scene.layers) {
      this.system.app.scene.layers.on('add', this.onLayerAdded, this);
      this.system.app.scene.layers.on('remove', this.onLayerRemoved, this);
    }
    if (this.enabled && this.entity.enabled) {
      this.addLightToLayers();
    }
    if (this._cookieAsset && !this.cookie) this.onCookieAssetSet();
  }
  onDisable() {
    this.light.enabled = false;
    this.system.app.scene.off('set:layers', this.onLayersChanged, this);
    if (this.system.app.scene.layers) {
      this.system.app.scene.layers.off('add', this.onLayerAdded, this);
      this.system.app.scene.layers.off('remove', this.onLayerRemoved, this);
    }
    this.removeLightFromLayers();
  }
  onRemove() {
    // remove from layers
    this.onDisable();

    // destroy light node
    this.light.destroy();

    // remove cookie asset events
    this.cookieAsset = null;
  }

  /**
   * Returns an array of SHADOWUPDATE_ settings per shadow cascade, or undefined if not used.
   *
   * @type {number[] | null}
   */
  set shadowUpdateOverrides(values) {
    this.light.shadowUpdateOverrides = values;
  }
  get shadowUpdateOverrides() {
    return this.light.shadowUpdateOverrides;
  }
  set penumbraSize(value) {
    this.light.penumbraSize = value;
  }
  get penumbraSize() {
    return this.light.penumbraSize;
  }
}
function _defineProperty(name, defaultValue, setFunc, skipEqualsCheck) {
  const c = LightComponent.prototype;
  _lightProps.push(name);
  _lightPropsDefault.push(defaultValue);
  Object.defineProperty(c, name, {
    get: function () {
      return this.data[name];
    },
    set: function (value) {
      const data = this.data;
      const oldValue = data[name];
      if (!skipEqualsCheck && oldValue === value) return;
      data[name] = value;
      if (setFunc) setFunc.call(this, value, oldValue);
    },
    configurable: true
  });
}
function _defineProps() {
  _defineProperty('enabled', true, function (newValue, oldValue) {
    this.onSetEnabled(null, oldValue, newValue);
  });
  _defineProperty('light', null);
  _defineProperty('type', 'directional', function (newValue, oldValue) {
    this.system.changeType(this, oldValue, newValue);
    // refresh light properties because changing the type does not reset the
    // light properties
    this.refreshProperties();
  });
  _defineProperty('color', new Color(1, 1, 1), function (newValue, oldValue) {
    this.light.setColor(newValue);
  }, true);
  _defineProperty('intensity', 1, function (newValue, oldValue) {
    this.light.intensity = newValue;
  });
  _defineProperty('luminance', 0, function (newValue, oldValue) {
    this.light.luminance = newValue;
  });
  _defineProperty('shape', LIGHTSHAPE_PUNCTUAL, function (newValue, oldValue) {
    this.light.shape = newValue;
  });
  _defineProperty('affectSpecularity', true, function (newValue, oldValue) {
    this.light.affectSpecularity = newValue;
  });
  _defineProperty('castShadows', false, function (newValue, oldValue) {
    this.light.castShadows = newValue;
  });
  _defineProperty('shadowDistance', 40, function (newValue, oldValue) {
    this.light.shadowDistance = newValue;
  });
  _defineProperty('shadowIntensity', 1, function (newValue, oldValue) {
    this.light.shadowIntensity = newValue;
  });
  _defineProperty('shadowResolution', 1024, function (newValue, oldValue) {
    this.light.shadowResolution = newValue;
  });
  _defineProperty('shadowBias', 0.05, function (newValue, oldValue) {
    this.light.shadowBias = -0.01 * math.clamp(newValue, 0, 1);
  });
  _defineProperty('numCascades', 1, function (newValue, oldValue) {
    this.light.numCascades = math.clamp(Math.floor(newValue), 1, 4);
  });
  _defineProperty('bakeNumSamples', 1, function (newValue, oldValue) {
    this.light.bakeNumSamples = math.clamp(Math.floor(newValue), 1, 255);
  });
  _defineProperty('bakeArea', 0, function (newValue, oldValue) {
    this.light.bakeArea = math.clamp(newValue, 0, 180);
  });
  _defineProperty('cascadeDistribution', 0.5, function (newValue, oldValue) {
    this.light.cascadeDistribution = math.clamp(newValue, 0, 1);
  });
  _defineProperty('normalOffsetBias', 0, function (newValue, oldValue) {
    this.light.normalOffsetBias = math.clamp(newValue, 0, 1);
  });
  _defineProperty('range', 10, function (newValue, oldValue) {
    this.light.attenuationEnd = newValue;
  });
  _defineProperty('innerConeAngle', 40, function (newValue, oldValue) {
    this.light.innerConeAngle = newValue;
  });
  _defineProperty('outerConeAngle', 45, function (newValue, oldValue) {
    this.light.outerConeAngle = newValue;
  });
  _defineProperty('falloffMode', LIGHTFALLOFF_LINEAR, function (newValue, oldValue) {
    this.light.falloffMode = newValue;
  });
  _defineProperty('shadowType', SHADOW_PCF3, function (newValue, oldValue) {
    this.light.shadowType = newValue;
  });
  _defineProperty('vsmBlurSize', 11, function (newValue, oldValue) {
    this.light.vsmBlurSize = newValue;
  });
  _defineProperty('vsmBlurMode', BLUR_GAUSSIAN, function (newValue, oldValue) {
    this.light.vsmBlurMode = newValue;
  });
  _defineProperty('vsmBias', 0.01 * 0.25, function (newValue, oldValue) {
    this.light.vsmBias = math.clamp(newValue, 0, 1);
  });
  _defineProperty('cookieAsset', null, function (newValue, oldValue) {
    if (this._cookieAssetId && (newValue instanceof Asset && newValue.id === this._cookieAssetId || newValue === this._cookieAssetId)) return;
    this.onCookieAssetRemove();
    this._cookieAssetId = null;
    if (newValue instanceof Asset) {
      this.data.cookieAsset = newValue.id;
      this._cookieAssetId = newValue.id;
      this.onCookieAssetAdd(newValue);
    } else if (typeof newValue === 'number') {
      this._cookieAssetId = newValue;
      const asset = this.system.app.assets.get(newValue);
      if (asset) {
        this.onCookieAssetAdd(asset);
      } else {
        this._cookieAssetAdd = true;
        this.system.app.assets.on('add:' + this._cookieAssetId, this.onCookieAssetAdd, this);
      }
    }
  });
  _defineProperty('cookie', null, function (newValue, oldValue) {
    this.light.cookie = newValue;
  });
  _defineProperty('cookieIntensity', 1, function (newValue, oldValue) {
    this.light.cookieIntensity = math.clamp(newValue, 0, 1);
  });
  _defineProperty('cookieFalloff', true, function (newValue, oldValue) {
    this.light.cookieFalloff = newValue;
  });
  _defineProperty('cookieChannel', 'rgb', function (newValue, oldValue) {
    this.light.cookieChannel = newValue;
  });
  _defineProperty('cookieAngle', 0, function (newValue, oldValue) {
    if (newValue !== 0 || this.cookieScale !== null) {
      if (!this._cookieMatrix) this._cookieMatrix = new Vec4();
      let scx = 1;
      let scy = 1;
      if (this.cookieScale) {
        scx = this.cookieScale.x;
        scy = this.cookieScale.y;
      }
      const c = Math.cos(newValue * math.DEG_TO_RAD);
      const s = Math.sin(newValue * math.DEG_TO_RAD);
      this._cookieMatrix.set(c / scx, -s / scx, s / scy, c / scy);
      this.light.cookieTransform = this._cookieMatrix;
    } else {
      this.light.cookieTransform = null;
    }
  });
  _defineProperty('cookieScale', null, function (newValue, oldValue) {
    if (newValue !== null || this.cookieAngle !== 0) {
      if (!this._cookieMatrix) this._cookieMatrix = new Vec4();
      const scx = newValue.x;
      const scy = newValue.y;
      const c = Math.cos(this.cookieAngle * math.DEG_TO_RAD);
      const s = Math.sin(this.cookieAngle * math.DEG_TO_RAD);
      this._cookieMatrix.set(c / scx, -s / scx, s / scy, c / scy);
      this.light.cookieTransform = this._cookieMatrix;
    } else {
      this.light.cookieTransform = null;
    }
  }, true);
  _defineProperty('cookieOffset', null, function (newValue, oldValue) {
    this.light.cookieOffset = newValue;
  }, true);
  _defineProperty('shadowUpdateMode', SHADOWUPDATE_REALTIME, function (newValue, oldValue) {
    this.light.shadowUpdateMode = newValue;
  }, true);
  _defineProperty('mask', 1, function (newValue, oldValue) {
    this.light.mask = newValue;
  });
  _defineProperty('affectDynamic', true, function (newValue, oldValue) {
    if (newValue) {
      this.light.mask |= MASK_AFFECT_DYNAMIC;
    } else {
      this.light.mask &= ~MASK_AFFECT_DYNAMIC;
    }
    this.light.layersDirty();
  });
  _defineProperty('affectLightmapped', false, function (newValue, oldValue) {
    if (newValue) {
      this.light.mask |= MASK_AFFECT_LIGHTMAPPED;
      if (this.bake) this.light.mask &= ~MASK_BAKE;
    } else {
      this.light.mask &= ~MASK_AFFECT_LIGHTMAPPED;
      if (this.bake) this.light.mask |= MASK_BAKE;
    }
  });
  _defineProperty('bake', false, function (newValue, oldValue) {
    if (newValue) {
      this.light.mask |= MASK_BAKE;
      if (this.affectLightmapped) this.light.mask &= ~MASK_AFFECT_LIGHTMAPPED;
    } else {
      this.light.mask &= ~MASK_BAKE;
      if (this.affectLightmapped) this.light.mask |= MASK_AFFECT_LIGHTMAPPED;
    }
    this.light.layersDirty();
  });
  _defineProperty('bakeDir', true, function (newValue, oldValue) {
    this.light.bakeDir = newValue;
  });
  _defineProperty('isStatic', false, function (newValue, oldValue) {
    this.light.isStatic = newValue;
  });
  _defineProperty('layers', [LAYERID_WORLD], function (newValue, oldValue) {
    for (let i = 0; i < oldValue.length; i++) {
      const layer = this.system.app.scene.layers.getLayerById(oldValue[i]);
      if (!layer) continue;
      layer.removeLight(this);
      this.light.removeLayer(layer);
    }
    for (let i = 0; i < newValue.length; i++) {
      const layer = this.system.app.scene.layers.getLayerById(newValue[i]);
      if (!layer) continue;
      if (this.enabled && this.entity.enabled) {
        layer.addLight(this);
        this.light.addLayer(layer);
      }
    }
  });
  _lightProps.push("penumbraSize");
  _lightPropsDefault.push(1);
}
_defineProps();

export { LightComponent, _lightProps, _lightPropsDefault };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvbGlnaHQvY29tcG9uZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hdGggfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgvbWF0aC5qcyc7XG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvbWF0aC9jb2xvci5qcyc7XG5pbXBvcnQgeyBWZWM0IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tYXRoL3ZlYzQuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMVVJfR0FVU1NJQU4sXG4gICAgTEFZRVJJRF9XT1JMRCxcbiAgICBMSUdIVFNIQVBFX1BVTkNUVUFMLFxuICAgIExJR0hURkFMTE9GRl9MSU5FQVIsXG4gICAgTUFTS19BRkZFQ1RfTElHSFRNQVBQRUQsIE1BU0tfQUZGRUNUX0RZTkFNSUMsIE1BU0tfQkFLRSxcbiAgICBTSEFET1dfUENGMyxcbiAgICBTSEFET1dVUERBVEVfUkVBTFRJTUVcbn0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IHsgQXNzZXQgfSBmcm9tICcuLi8uLi9hc3NldC9hc3NldC5qcyc7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudC5qcyc7XG5cbmNvbnN0IF9saWdodFByb3BzID0gW107XG5jb25zdCBfbGlnaHRQcm9wc0RlZmF1bHQgPSBbXTtcblxuLyoqXG4gKiBUaGUgTGlnaHQgQ29tcG9uZW50IGVuYWJsZXMgdGhlIEVudGl0eSB0byBsaWdodCB0aGUgc2NlbmUuIFRoZXJlIGFyZSB0aHJlZSB0eXBlcyBvZiBsaWdodDpcbiAqIGRpcmVjdGlvbmFsLCBvbW5pIGFuZCBzcG90LiBEaXJlY3Rpb25hbCBsaWdodHMgYXJlIGdsb2JhbCBpbiB0aGF0IHRoZXkgYXJlIGNvbnNpZGVyZWQgdG8gYmVcbiAqIGluZmluaXRlbHkgZmFyIGF3YXkgYW5kIGxpZ2h0IHRoZSBlbnRpcmUgc2NlbmUuIE9tbmkgYW5kIHNwb3QgbGlnaHRzIGFyZSBsb2NhbCBpbiB0aGF0IHRoZXkgaGF2ZVxuICogYSBwb3NpdGlvbiBhbmQgYSByYW5nZS4gQSBzcG90IGxpZ2h0IGlzIGEgc3BlY2lhbGl6YXRpb24gb2YgYW4gb21uaSBsaWdodCB3aGVyZSBsaWdodCBpcyBlbWl0dGVkXG4gKiBpbiBhIGNvbmUgcmF0aGVyIHRoYW4gaW4gYWxsIGRpcmVjdGlvbnMuIExpZ2h0cyBhbHNvIGhhdmUgdGhlIGFiaWxpdHkgdG8gY2FzdCBzaGFkb3dzIHRvIGFkZFxuICogcmVhbGlzbSB0byB5b3VyIHNjZW5lcy5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBBZGQgYSBwYy5MaWdodENvbXBvbmVudCB0byBhbiBlbnRpdHlcbiAqIGNvbnN0IGVudGl0eSA9IG5ldyBwYy5FbnRpdHkoKTtcbiAqIGVudGl0eS5hZGRDb21wb25lbnQoJ2xpZ2h0Jywge1xuICogICAgIHR5cGU6IFwib21uaVwiLFxuICogICAgIGNvbG9yOiBuZXcgcGMuQ29sb3IoMSwgMCwgMCksXG4gKiAgICAgcmFuZ2U6IDEwXG4gKiB9KTtcbiAqXG4gKiAvLyBHZXQgdGhlIHBjLkxpZ2h0Q29tcG9uZW50IG9uIGFuIGVudGl0eVxuICogY29uc3QgbGlnaHRDb21wb25lbnQgPSBlbnRpdHkubGlnaHQ7XG4gKlxuICogLy8gVXBkYXRlIGEgcHJvcGVydHkgb24gYSBsaWdodCBjb21wb25lbnRcbiAqIGVudGl0eS5saWdodC5yYW5nZSA9IDIwO1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgbGlnaHQuIENhbiBiZTpcbiAqXG4gKiAtIFwiZGlyZWN0aW9uYWxcIjogQSBsaWdodCB0aGF0IGlzIGluZmluaXRlbHkgZmFyIGF3YXkgYW5kIGxpZ2h0cyB0aGUgZW50aXJlIHNjZW5lIGZyb20gb25lXG4gKiBkaXJlY3Rpb24uXG4gKiAtIFwib21uaVwiOiBBbiBvbW5pLWRpcmVjdGlvbmFsIGxpZ2h0IHRoYXQgaWxsdW1pbmF0ZXMgaW4gYWxsIGRpcmVjdGlvbnMgZnJvbSB0aGUgbGlnaHQgc291cmNlLlxuICogLSBcInNwb3RcIjogQW4gb21uaS1kaXJlY3Rpb25hbCBsaWdodCBidXQgaXMgYm91bmRlZCBieSBhIGNvbmUuXG4gKlxuICogRGVmYXVsdHMgdG8gXCJkaXJlY3Rpb25hbFwiLlxuICogQHByb3BlcnR5IHtDb2xvcn0gY29sb3IgVGhlIENvbG9yIG9mIHRoZSBsaWdodC4gVGhlIGFscGhhIGNvbXBvbmVudCBvZiB0aGUgY29sb3IgaXMgaWdub3JlZC5cbiAqIERlZmF1bHRzIHRvIHdoaXRlICgxLCAxLCAxKS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnRlbnNpdHkgVGhlIGJyaWdodG5lc3Mgb2YgdGhlIGxpZ2h0LiBEZWZhdWx0cyB0byAxLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGx1bWluYW5jZSBUaGUgcGh5c2ljYWxseSBiYXNlZCBsdW1pbmFuY2UuIE9ubHkgdXNlZCBpZiBzY2VuZS5waHlzaWNhbFVuaXRzIGlzIHRydWUuIERlZmF1bHRzIHRvIDAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2hhcGUgVGhlIGxpZ2h0IHNvdXJjZSBzaGFwZS4gQ2FuIGJlOlxuICpcbiAqIC0ge0BsaW5rIExJR0hUU0hBUEVfUFVOQ1RVQUx9OiBJbmZpbml0ZXNpbWFsbHkgc21hbGwgcG9pbnQuXG4gKiAtIHtAbGluayBMSUdIVFNIQVBFX1JFQ1R9OiBSZWN0YW5nbGUgc2hhcGUuXG4gKiAtIHtAbGluayBMSUdIVFNIQVBFX0RJU0t9OiBEaXNrIHNoYXBlLlxuICogLSB7QGxpbmsgTElHSFRTSEFQRV9TUEhFUkV9OiBTcGhlcmUgc2hhcGUuXG4gKlxuICogRGVmYXVsdHMgdG8gcGMuTElHSFRTSEFQRV9QVU5DVFVBTC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWZmZWN0U3BlY3VsYXJpdHkgSWYgZW5hYmxlZCBhbmQgdGhlIGxpZ2h0IHR5cGUgaXMgcGMuTElHSFRUWVBFX0RJUkVDVElPTkFMLCBtYXRlcmlhbCBzcGVjdWxhcml0eVxuICogd2lsbCBub3QgYmUgYWZmZWN0ZWQgYnkgdGhpcyBsaWdodC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2FzdFNoYWRvd3MgSWYgZW5hYmxlZCB0aGUgbGlnaHQgd2lsbCBjYXN0IHNoYWRvd3MuIERlZmF1bHRzIHRvIGZhbHNlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNoYWRvd0Rpc3RhbmNlIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSB2aWV3cG9pbnQgYmV5b25kIHdoaWNoIHNoYWRvd3MgYXJlIG5vXG4gKiBsb25nZXIgcmVuZGVyZWQuIEFmZmVjdHMgZGlyZWN0aW9uYWwgbGlnaHRzIG9ubHkuIERlZmF1bHRzIHRvIDQwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNoYWRvd0ludGVuc2l0eSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBzaGFkb3cgZGFya2VuaW5nLCAxIGJlaW5nIHNoYWRvd3MgYXJlIGVudGlyZWx5IGJsYWNrLlxuICogRGVmYXVsdHMgdG8gMS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaGFkb3dSZXNvbHV0aW9uIFRoZSBzaXplIG9mIHRoZSB0ZXh0dXJlIHVzZWQgZm9yIHRoZSBzaGFkb3cgbWFwLiBWYWxpZCBzaXplc1xuICogYXJlIDY0LCAxMjgsIDI1NiwgNTEyLCAxMDI0LCAyMDQ4LiBEZWZhdWx0cyB0byAxMDI0LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNoYWRvd0JpYXMgVGhlIGRlcHRoIGJpYXMgZm9yIHR1bmluZyB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgc2hhZG93IG1hcHBpbmdcbiAqIGdlbmVyYXRlZCBieSB0aGlzIGxpZ2h0LiBWYWxpZCByYW5nZSBpcyAwIHRvIDEuIERlZmF1bHRzIHRvIDAuMDUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbnVtQ2FzY2FkZXMgTnVtYmVyIG9mIHNoYWRvdyBjYXNjYWRlcy4gQ2FuIGJlIDEsIDIsIDMgb3IgNC4gRGVmYXVsdHMgdG8gMSxcbiAqIHJlcHJlc2VudGluZyBubyBjYXNjYWRlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYXNjYWRlRGlzdHJpYnV0aW9uIFRoZSBkaXN0cmlidXRpb24gb2Ygc3ViZGl2aXNpb24gb2YgdGhlIGNhbWVyYSBmcnVzdHVtIGZvclxuICogaW5kaXZpZHVhbCBzaGFkb3cgY2FzY2FkZXMuIE9ubHkgdXNlZCBpZiB7QGxpbmsgTGlnaHRDb21wb25lbnQjbnVtQ2FzY2FkZXN9IGlzIGxhcmdlciB0aGFuIDEuXG4gKiBDYW4gYmUgYSB2YWx1ZSBpbiByYW5nZSBvZiAwIGFuZCAxLiBWYWx1ZSBvZiAwIHJlcHJlc2VudHMgYSBsaW5lYXIgZGlzdHJpYnV0aW9uLCB2YWx1ZSBvZiAxXG4gKiByZXByZXNlbnRzIGEgbG9nYXJpdGhtaWMgZGlzdHJpYnV0aW9uLiBEZWZhdWx0cyB0byAwLjUuIExhcmdlciB2YWx1ZSBpbmNyZWFzZXMgdGhlIHJlc29sdXRpb24gb2ZcbiAqIHRoZSBzaGFkb3dzIGluIHRoZSBuZWFyIGRpc3RhbmNlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG5vcm1hbE9mZnNldEJpYXMgTm9ybWFsIG9mZnNldCBkZXB0aCBiaWFzLiBWYWxpZCByYW5nZSBpcyAwIHRvIDEuIERlZmF1bHRzIHRvXG4gKiAwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhbmdlIFRoZSByYW5nZSBvZiB0aGUgbGlnaHQuIEFmZmVjdHMgb21uaSBhbmQgc3BvdCBsaWdodHMgb25seS4gRGVmYXVsdHMgdG9cbiAqIDEwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGlubmVyQ29uZUFuZ2xlIFRoZSBhbmdsZSBhdCB3aGljaCB0aGUgc3BvdGxpZ2h0IGNvbmUgc3RhcnRzIHRvIGZhZGUgb2ZmLiBUaGVcbiAqIGFuZ2xlIGlzIHNwZWNpZmllZCBpbiBkZWdyZWVzLiBBZmZlY3RzIHNwb3QgbGlnaHRzIG9ubHkuIERlZmF1bHRzIHRvIDQwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG91dGVyQ29uZUFuZ2xlIFRoZSBhbmdsZSBhdCB3aGljaCB0aGUgc3BvdGxpZ2h0IGNvbmUgaGFzIGZhZGVkIHRvIG5vdGhpbmcuXG4gKiBUaGUgYW5nbGUgaXMgc3BlY2lmaWVkIGluIGRlZ3JlZXMuIEFmZmVjdHMgc3BvdCBsaWdodHMgb25seS4gRGVmYXVsdHMgdG8gNDUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGVudW1icmFTaXplIFNpemUgb2YgcGVudW1icmEgZm9yIGNvbnRhY3QgaGFyZGVuaW5nIHNoYWRvd3MuIEZvciBhcmVhIGxpZ2h0c1xuICogYWN0cyBhcyBhIG11bHRpcGxpZXIgd2l0aCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXJlYSBsaWdodC4gRm9yIHB1bmN0dWFsIGFuZCBkaXJlY3Rpb25hbCBsaWdodHNcbiAqIGl0J3MgdGhlIGFyZWEgc2l6ZSBvZiB0aGUgbGlnaHQuIERlZmF1bHRzIHRvIDEuMC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmYWxsb2ZmTW9kZSBDb250cm9scyB0aGUgcmF0ZSBhdCB3aGljaCBhIGxpZ2h0IGF0dGVudWF0ZXMgZnJvbSBpdHMgcG9zaXRpb24uXG4gKiBDYW4gYmU6XG4gKlxuICogLSB7QGxpbmsgTElHSFRGQUxMT0ZGX0xJTkVBUn06IExpbmVhci5cbiAqIC0ge0BsaW5rIExJR0hURkFMTE9GRl9JTlZFUlNFU1FVQVJFRH06IEludmVyc2Ugc3F1YXJlZC5cbiAqXG4gKiBBZmZlY3RzIG9tbmkgYW5kIHNwb3QgbGlnaHRzIG9ubHkuIERlZmF1bHRzIHRvIHtAbGluayBMSUdIVEZBTExPRkZfTElORUFSfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXNrIERlZmluZXMgYSBtYXNrIHRvIGRldGVybWluZSB3aGljaCB7QGxpbmsgTWVzaEluc3RhbmNlfXMgYXJlIGxpdCBieSB0aGlzXG4gKiBsaWdodC4gRGVmYXVsdHMgdG8gMS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWZmZWN0RHluYW1pYyBJZiBlbmFibGVkIHRoZSBsaWdodCB3aWxsIGFmZmVjdCBub24tbGlnaHRtYXBwZWQgb2JqZWN0cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWZmZWN0TGlnaHRtYXBwZWQgSWYgZW5hYmxlZCB0aGUgbGlnaHQgd2lsbCBhZmZlY3QgbGlnaHRtYXBwZWQgb2JqZWN0cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYmFrZSBJZiBlbmFibGVkIHRoZSBsaWdodCB3aWxsIGJlIHJlbmRlcmVkIGludG8gbGlnaHRtYXBzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJha2VOdW1TYW1wbGVzIElmIGJha2UgaXMgdHJ1ZSwgdGhpcyBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBzYW1wbGVzIHVzZWQgdG9cbiAqIGJha2UgdGhpcyBsaWdodCBpbnRvIHRoZSBsaWdodG1hcC4gRGVmYXVsdHMgdG8gMS4gTWF4aW11bSB2YWx1ZSBpcyAyNTUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gYmFrZUFyZWEgSWYgYmFrZSBpcyB0cnVlIGFuZCB0aGUgbGlnaHQgdHlwZSBpcyB7QGxpbmsgTElHSFRUWVBFX0RJUkVDVElPTkFMfSxcbiAqIHRoaXMgc3BlY2lmaWVzIHRoZSBwZW51bWJyYSBhbmdsZSBpbiBkZWdyZWVzLCBhbGxvd2luZyBhIHNvZnQgc2hhZG93IGJvdW5kYXJ5LiBEZWZhdWx0cyB0byAwLlxuICogQHByb3BlcnR5IHtib29sZWFufSBiYWtlRGlyIElmIGVuYWJsZWQgYW5kIGJha2U9dHJ1ZSwgdGhlIGxpZ2h0J3MgZGlyZWN0aW9uIHdpbGwgY29udHJpYnV0ZSB0b1xuICogZGlyZWN0aW9uYWwgbGlnaHRtYXBzLiBCZSBhd2FyZSwgdGhhdCBkaXJlY3Rpb25hbCBsaWdodG1hcCBpcyBhbiBhcHByb3hpbWF0aW9uIGFuZCBjYW4gb25seSBob2xkXG4gKiBzaW5nbGUgZGlyZWN0aW9uIHBlciBwaXhlbC4gSW50ZXJzZWN0aW5nIG11bHRpcGxlIGxpZ2h0cyB3aXRoIGJha2VEaXI9dHJ1ZSBtYXkgbGVhZCB0byBpbmNvcnJlY3RcbiAqIGxvb2sgb2Ygc3BlY3VsYXIvYnVtcC1tYXBwaW5nIGluIHRoZSBhcmVhIG9mIGludGVyc2VjdGlvbi4gVGhlIGVycm9yIGlzIG5vdCBhbHdheXMgdmlzaWJsZVxuICogdGhvdWdoLCBhbmQgaGlnaGx5IHNjZW5lLWRlcGVuZGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaGFkb3dVcGRhdGVNb2RlIFRlbGxzIHRoZSByZW5kZXJlciBob3cgb2Z0ZW4gc2hhZG93cyBtdXN0IGJlIHVwZGF0ZWQgZm9yXG4gKiB0aGlzIGxpZ2h0LiBDYW4gYmU6XG4gKlxuICogLSB7QGxpbmsgU0hBRE9XVVBEQVRFX05PTkV9OiBEb24ndCByZW5kZXIgc2hhZG93cy5cbiAqIC0ge0BsaW5rIFNIQURPV1VQREFURV9USElTRlJBTUV9OiBSZW5kZXIgc2hhZG93cyBvbmx5IG9uY2UgKHRoZW4gYXV0b21hdGljYWxseSBzd2l0Y2hlcyB0b1xuICoge0BsaW5rIFNIQURPV1VQREFURV9OT05FfS5cbiAqIC0ge0BsaW5rIFNIQURPV1VQREFURV9SRUFMVElNRX06IFJlbmRlciBzaGFkb3dzIGV2ZXJ5IGZyYW1lIChkZWZhdWx0KS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaGFkb3dUeXBlIFR5cGUgb2Ygc2hhZG93cyBiZWluZyByZW5kZXJlZCBieSB0aGlzIGxpZ2h0LiBPcHRpb25zOlxuICpcbiAqIC0ge0BsaW5rIFNIQURPV19QQ0YzfTogUmVuZGVyIGRlcHRoIChjb2xvci1wYWNrZWQgb24gV2ViR0wgMS4wKSwgY2FuIGJlIHVzZWQgZm9yIFBDRiAzeDNcbiAqIHNhbXBsaW5nLlxuICogLSB7QGxpbmsgU0hBRE9XX1ZTTTh9OiBSZW5kZXIgcGFja2VkIHZhcmlhbmNlIHNoYWRvdyBtYXAuIEFsbCBzaGFkb3cgcmVjZWl2ZXJzIG11c3QgYWxzbyBjYXN0XG4gKiBzaGFkb3dzIGZvciB0aGlzIG1vZGUgdG8gd29yayBjb3JyZWN0bHkuXG4gKiAtIHtAbGluayBTSEFET1dfVlNNMTZ9OiBSZW5kZXIgMTYtYml0IGV4cG9uZW50aWFsIHZhcmlhbmNlIHNoYWRvdyBtYXAuIFJlcXVpcmVzXG4gKiBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IGV4dGVuc2lvbi4gRmFsbHMgYmFjayB0byB7QGxpbmsgU0hBRE9XX1ZTTTh9LCBpZiBub3Qgc3VwcG9ydGVkLlxuICogLSB7QGxpbmsgU0hBRE9XX1ZTTTMyfTogUmVuZGVyIDMyLWJpdCBleHBvbmVudGlhbCB2YXJpYW5jZSBzaGFkb3cgbWFwLiBSZXF1aXJlc1xuICogT0VTX3RleHR1cmVfZmxvYXQgZXh0ZW5zaW9uLiBGYWxscyBiYWNrIHRvIHtAbGluayBTSEFET1dfVlNNMTZ9LCBpZiBub3Qgc3VwcG9ydGVkLlxuICogLSB7QGxpbmsgU0hBRE9XX1BDRjV9OiBSZW5kZXIgZGVwdGggYnVmZmVyIG9ubHksIGNhbiBiZSB1c2VkIGZvciBoYXJkd2FyZS1hY2NlbGVyYXRlZCBQQ0YgNXg1XG4gKiBzYW1wbGluZy4gUmVxdWlyZXMgV2ViR0wyLiBGYWxscyBiYWNrIHRvIHtAbGluayBTSEFET1dfUENGM30gb24gV2ViR0wgMS4wLlxuICogLSB7QGxpbmsgU0hBRE9XX1BDU1N9OiBSZW5kZXIgZGVwdGggYXMgY29sb3IsIGFuZCB1c2UgdGhlIHNvZnR3YXJlIHNhbXBsZWQgUENTUyBtZXRob2QgZm9yIHNoYWRvd3MuXG4gKiBAcHJvcGVydHkge251bWJlcn0gdnNtQmx1ck1vZGUgQmx1cnJpbmcgbW9kZSBmb3IgdmFyaWFuY2Ugc2hhZG93IG1hcHMuIENhbiBiZTpcbiAqXG4gKiAtIHtAbGluayBCTFVSX0JPWH06IEJveCBmaWx0ZXIuXG4gKiAtIHtAbGluayBCTFVSX0dBVVNTSUFOfTogR2F1c3NpYW4gZmlsdGVyLiBNYXkgbG9vayBzbW9vdGhlciB0aGFuIGJveCwgYnV0IHJlcXVpcmVzIG1vcmUgc2FtcGxlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB2c21CbHVyU2l6ZSBOdW1iZXIgb2Ygc2FtcGxlcyB1c2VkIGZvciBibHVycmluZyBhIHZhcmlhbmNlIHNoYWRvdyBtYXAuIE9ubHlcbiAqIHVuZXZlbiBudW1iZXJzIHdvcmssIGV2ZW4gYXJlIGluY3JlbWVudGVkLiBNaW5pbXVtIHZhbHVlIGlzIDEsIG1heGltdW0gaXMgMjUuIERlZmF1bHRzIHRvIDExLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvb2tpZUFzc2V0IEFzc2V0IHRoYXQgaGFzIHRleHR1cmUgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIHRvIGNvb2tpZSBpbnRlcm5hbGx5XG4gKiBvbmNlIGFzc2V0IHJlc291cmNlIGlzIGF2YWlsYWJsZS5cbiAqIEBwcm9wZXJ0eSB7VGV4dHVyZX0gY29va2llIFByb2plY3Rpb24gdGV4dHVyZS4gTXVzdCBiZSAyRCBmb3Igc3BvdCBhbmQgY3ViZW1hcCBmb3Igb21uaSBsaWdodFxuICogKGlnbm9yZWQgaWYgaW5jb3JyZWN0IHR5cGUgaXMgdXNlZCkuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29va2llSW50ZW5zaXR5IFByb2plY3Rpb24gdGV4dHVyZSBpbnRlbnNpdHkgKGRlZmF1bHQgaXMgMSkuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvb2tpZUZhbGxvZmYgVG9nZ2xlIG5vcm1hbCBzcG90bGlnaHQgZmFsbG9mZiB3aGVuIHByb2plY3Rpb24gdGV4dHVyZSBpc1xuICogdXNlZC4gV2hlbiBzZXQgdG8gZmFsc2UsIHNwb3RsaWdodCB3aWxsIHdvcmsgbGlrZSBhIHB1cmUgdGV4dHVyZSBwcm9qZWN0b3IgKG9ubHkgZmFkaW5nIHdpdGhcbiAqIGRpc3RhbmNlKS4gRGVmYXVsdCBpcyBmYWxzZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb29raWVDaGFubmVsIENvbG9yIGNoYW5uZWxzIG9mIHRoZSBwcm9qZWN0aW9uIHRleHR1cmUgdG8gdXNlLiBDYW4gYmUgXCJyXCIsXG4gKiBcImdcIiwgXCJiXCIsIFwiYVwiLCBcInJnYlwiLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvb2tpZUFuZ2xlIEFuZ2xlIGZvciBzcG90bGlnaHQgY29va2llIHJvdGF0aW9uLlxuICogQHByb3BlcnR5IHtpbXBvcnQoJy4uLy4uLy4uL2NvcmUvbWF0aC92ZWMyLmpzJykuVmVjMn0gY29va2llU2NhbGUgU3BvdGxpZ2h0IGNvb2tpZSBzY2FsZS5cbiAqIEBwcm9wZXJ0eSB7aW1wb3J0KCcuLi8uLi8uLi9jb3JlL21hdGgvdmVjMi5qcycpLlZlYzJ9IGNvb2tpZU9mZnNldCBTcG90bGlnaHQgY29va2llIHBvc2l0aW9uXG4gKiBvZmZzZXQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzU3RhdGljIE1hcmsgbGlnaHQgYXMgbm9uLW1vdmFibGUgKG9wdGltaXphdGlvbikuXG4gKiBAcHJvcGVydHkge251bWJlcltdfSBsYXllcnMgQW4gYXJyYXkgb2YgbGF5ZXIgSURzICh7QGxpbmsgTGF5ZXIjaWR9KSB0byB3aGljaCB0aGlzIGxpZ2h0IHNob3VsZFxuICogYmVsb25nLiBEb24ndCBwdXNoL3BvcC9zcGxpY2Ugb3IgbW9kaWZ5IHRoaXMgYXJyYXksIGlmIHlvdSB3YW50IHRvIGNoYW5nZSBpdCAtIHNldCBhIG5ldyBvbmVcbiAqIGluc3RlYWQuXG4gKiBAYXVnbWVudHMgQ29tcG9uZW50XG4gKiBAY2F0ZWdvcnkgR3JhcGhpY3NcbiAqL1xuY2xhc3MgTGlnaHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTGlnaHRDb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi9zeXN0ZW0uanMnKS5MaWdodENvbXBvbmVudFN5c3RlbX0gc3lzdGVtIC0gVGhlIENvbXBvbmVudFN5c3RlbSB0aGF0XG4gICAgICogY3JlYXRlZCB0aGlzIENvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vZW50aXR5LmpzJykuRW50aXR5fSBlbnRpdHkgLSBUaGUgRW50aXR5IHRoYXQgdGhpcyBDb21wb25lbnQgaXNcbiAgICAgKiBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW0sIGVudGl0eSkge1xuICAgICAgICBzdXBlcihzeXN0ZW0sIGVudGl0eSk7XG5cbiAgICAgICAgdGhpcy5fY29va2llQXNzZXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb29raWVBc3NldElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29va2llQXNzZXRBZGQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29va2llTWF0cml4ID0gbnVsbDtcbiAgICB9XG5cbiAgICBhZGRMaWdodFRvTGF5ZXJzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3lzdGVtLmFwcC5zY2VuZS5sYXllcnMuZ2V0TGF5ZXJCeUlkKHRoaXMubGF5ZXJzW2ldKTtcbiAgICAgICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgICAgIGxheWVyLmFkZExpZ2h0KHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMubGlnaHQuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlTGlnaHRGcm9tTGF5ZXJzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3lzdGVtLmFwcC5zY2VuZS5sYXllcnMuZ2V0TGF5ZXJCeUlkKHRoaXMubGF5ZXJzW2ldKTtcbiAgICAgICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgICAgIGxheWVyLnJlbW92ZUxpZ2h0KHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMubGlnaHQucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25MYXllcnNDaGFuZ2VkKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkZExpZ2h0VG9MYXllcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBvbGRDb21wLm9mZignYWRkJywgdGhpcy5vbkxheWVyQWRkZWQsIHRoaXMpO1xuICAgICAgICBvbGRDb21wLm9mZigncmVtb3ZlJywgdGhpcy5vbkxheWVyUmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIG5ld0NvbXAub24oJ2FkZCcsIHRoaXMub25MYXllckFkZGVkLCB0aGlzKTtcbiAgICAgICAgbmV3Q29tcC5vbigncmVtb3ZlJywgdGhpcy5vbkxheWVyUmVtb3ZlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25MYXllckFkZGVkKGxheWVyKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sYXllcnMuaW5kZXhPZihsYXllci5pZCk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIHRoaXMuZW5hYmxlZCAmJiB0aGlzLmVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgICAgICBsYXllci5hZGRMaWdodCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHQuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25MYXllclJlbW92ZWQobGF5ZXIpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxheWVycy5pbmRleE9mKGxheWVyLmlkKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGxheWVyLnJlbW92ZUxpZ2h0KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5saWdodC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZyZXNoUHJvcGVydGllcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbGlnaHRQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IF9saWdodFByb3BzW2ldO1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1zZWxmLWFzc2lnbiAqL1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtYXNzaWduICovXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmVudGl0eS5lbmFibGVkKVxuICAgICAgICAgICAgdGhpcy5vbkVuYWJsZSgpO1xuICAgIH1cblxuICAgIG9uQ29va2llQXNzZXRTZXQoKSB7XG4gICAgICAgIGxldCBmb3JjZUxvYWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fY29va2llQXNzZXQudHlwZSA9PT0gJ2N1YmVtYXAnICYmICF0aGlzLl9jb29raWVBc3NldC5sb2FkRmFjZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nvb2tpZUFzc2V0LmxvYWRGYWNlcyA9IHRydWU7XG4gICAgICAgICAgICBmb3JjZUxvYWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jb29raWVBc3NldC5yZXNvdXJjZSB8fCBmb3JjZUxvYWQpXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5hcHAuYXNzZXRzLmxvYWQodGhpcy5fY29va2llQXNzZXQpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb29raWVBc3NldC5yZXNvdXJjZSlcbiAgICAgICAgICAgIHRoaXMub25Db29raWVBc3NldExvYWQoKTtcbiAgICB9XG5cbiAgICBvbkNvb2tpZUFzc2V0QWRkKGFzc2V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9jb29raWVBc3NldElkICE9PSBhc3NldC5pZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLl9jb29raWVBc3NldCA9IGFzc2V0O1xuXG4gICAgICAgIGlmICh0aGlzLmxpZ2h0LmVuYWJsZWQpXG4gICAgICAgICAgICB0aGlzLm9uQ29va2llQXNzZXRTZXQoKTtcblxuICAgICAgICB0aGlzLl9jb29raWVBc3NldC5vbignbG9hZCcsIHRoaXMub25Db29raWVBc3NldExvYWQsIHRoaXMpO1xuICAgICAgICB0aGlzLl9jb29raWVBc3NldC5vbigncmVtb3ZlJywgdGhpcy5vbkNvb2tpZUFzc2V0UmVtb3ZlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbkNvb2tpZUFzc2V0TG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb29raWVBc3NldCB8fCAhdGhpcy5fY29va2llQXNzZXQucmVzb3VyY2UpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jb29raWUgPSB0aGlzLl9jb29raWVBc3NldC5yZXNvdXJjZTtcbiAgICB9XG5cbiAgICBvbkNvb2tpZUFzc2V0UmVtb3ZlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2Nvb2tpZUFzc2V0SWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuX2Nvb2tpZUFzc2V0QWRkKSB7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5hcHAuYXNzZXRzLm9mZignYWRkOicgKyB0aGlzLl9jb29raWVBc3NldElkLCB0aGlzLm9uQ29va2llQXNzZXRBZGQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fY29va2llQXNzZXRBZGQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb29raWVBc3NldCkge1xuICAgICAgICAgICAgdGhpcy5fY29va2llQXNzZXQub2ZmKCdsb2FkJywgdGhpcy5vbkNvb2tpZUFzc2V0TG9hZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9jb29raWVBc3NldC5vZmYoJ3JlbW92ZScsIHRoaXMub25Db29raWVBc3NldFJlbW92ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9jb29raWVBc3NldCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvb2tpZSA9IG51bGw7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKSB7XG4gICAgICAgIHRoaXMubGlnaHQuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLnNjZW5lLm9uKCdzZXQ6bGF5ZXJzJywgdGhpcy5vbkxheWVyc0NoYW5nZWQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5zeXN0ZW0uYXBwLnNjZW5lLmxheWVycykge1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLnNjZW5lLmxheWVycy5vbignYWRkJywgdGhpcy5vbkxheWVyQWRkZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLnNjZW5lLmxheWVycy5vbigncmVtb3ZlJywgdGhpcy5vbkxheWVyUmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbmFibGVkICYmIHRoaXMuZW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTGlnaHRUb0xheWVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2Nvb2tpZUFzc2V0ICYmICF0aGlzLmNvb2tpZSlcbiAgICAgICAgICAgIHRoaXMub25Db29raWVBc3NldFNldCgpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5saWdodC5lbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLnNjZW5lLm9mZignc2V0OmxheWVycycsIHRoaXMub25MYXllcnNDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc3lzdGVtLmFwcC5zY2VuZS5sYXllcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtLmFwcC5zY2VuZS5sYXllcnMub2ZmKCdhZGQnLCB0aGlzLm9uTGF5ZXJBZGRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5hcHAuc2NlbmUubGF5ZXJzLm9mZigncmVtb3ZlJywgdGhpcy5vbkxheWVyUmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbW92ZUxpZ2h0RnJvbUxheWVycygpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBsYXllcnNcbiAgICAgICAgdGhpcy5vbkRpc2FibGUoKTtcblxuICAgICAgICAvLyBkZXN0cm95IGxpZ2h0IG5vZGVcbiAgICAgICAgdGhpcy5saWdodC5kZXN0cm95KCk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGNvb2tpZSBhc3NldCBldmVudHNcbiAgICAgICAgdGhpcy5jb29raWVBc3NldCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBTSEFET1dVUERBVEVfIHNldHRpbmdzIHBlciBzaGFkb3cgY2FzY2FkZSwgb3IgdW5kZWZpbmVkIGlmIG5vdCB1c2VkLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcltdIHwgbnVsbH1cbiAgICAgKi9cbiAgICBzZXQgc2hhZG93VXBkYXRlT3ZlcnJpZGVzKHZhbHVlcykge1xuICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd1VwZGF0ZU92ZXJyaWRlcyA9IHZhbHVlcztcbiAgICB9XG5cbiAgICBnZXQgc2hhZG93VXBkYXRlT3ZlcnJpZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saWdodC5zaGFkb3dVcGRhdGVPdmVycmlkZXM7XG4gICAgfVxuXG4gICAgc2V0IHBlbnVtYnJhU2l6ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LnBlbnVtYnJhU2l6ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBwZW51bWJyYVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0LnBlbnVtYnJhU2l6ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShuYW1lLCBkZWZhdWx0VmFsdWUsIHNldEZ1bmMsIHNraXBFcXVhbHNDaGVjaykge1xuICAgIGNvbnN0IGMgPSBMaWdodENvbXBvbmVudC5wcm90b3R5cGU7XG4gICAgX2xpZ2h0UHJvcHMucHVzaChuYW1lKTtcbiAgICBfbGlnaHRQcm9wc0RlZmF1bHQucHVzaChkZWZhdWx0VmFsdWUpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIG5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW25hbWVdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZGF0YVtuYW1lXTtcbiAgICAgICAgICAgIGlmICghc2tpcEVxdWFsc0NoZWNrICYmIG9sZFZhbHVlID09PSB2YWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHNldEZ1bmMpIHNldEZ1bmMuY2FsbCh0aGlzLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BzKCkge1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnZW5hYmxlZCcsIHRydWUsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5vblNldEVuYWJsZWQobnVsbCwgb2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2xpZ2h0JywgbnVsbCk7XG4gICAgX2RlZmluZVByb3BlcnR5KCd0eXBlJywgJ2RpcmVjdGlvbmFsJywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLnN5c3RlbS5jaGFuZ2VUeXBlKHRoaXMsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIC8vIHJlZnJlc2ggbGlnaHQgcHJvcGVydGllcyBiZWNhdXNlIGNoYW5naW5nIHRoZSB0eXBlIGRvZXMgbm90IHJlc2V0IHRoZVxuICAgICAgICAvLyBsaWdodCBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMucmVmcmVzaFByb3BlcnRpZXMoKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2NvbG9yJywgbmV3IENvbG9yKDEsIDEsIDEpLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuc2V0Q29sb3IobmV3VmFsdWUpO1xuICAgIH0sIHRydWUpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnaW50ZW5zaXR5JywgMSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmludGVuc2l0eSA9IG5ld1ZhbHVlO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnbHVtaW5hbmNlJywgMCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0Lmx1bWluYW5jZSA9IG5ld1ZhbHVlO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnc2hhcGUnLCBMSUdIVFNIQVBFX1BVTkNUVUFMLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuc2hhcGUgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2FmZmVjdFNwZWN1bGFyaXR5JywgdHJ1ZSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmFmZmVjdFNwZWN1bGFyaXR5ID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjYXN0U2hhZG93cycsIGZhbHNlLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuY2FzdFNoYWRvd3MgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ3NoYWRvd0Rpc3RhbmNlJywgNDAsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5zaGFkb3dEaXN0YW5jZSA9IG5ld1ZhbHVlO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnc2hhZG93SW50ZW5zaXR5JywgMSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd0ludGVuc2l0eSA9IG5ld1ZhbHVlO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnc2hhZG93UmVzb2x1dGlvbicsIDEwMjQsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5zaGFkb3dSZXNvbHV0aW9uID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdzaGFkb3dCaWFzJywgMC4wNSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LnNoYWRvd0JpYXMgPSAtMC4wMSAqIG1hdGguY2xhbXAobmV3VmFsdWUsIDAsIDEpO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnbnVtQ2FzY2FkZXMnLCAxLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQubnVtQ2FzY2FkZXMgPSBtYXRoLmNsYW1wKE1hdGguZmxvb3IobmV3VmFsdWUpLCAxLCA0KTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2Jha2VOdW1TYW1wbGVzJywgMSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmJha2VOdW1TYW1wbGVzID0gbWF0aC5jbGFtcChNYXRoLmZsb29yKG5ld1ZhbHVlKSwgMSwgMjU1KTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2Jha2VBcmVhJywgMCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmJha2VBcmVhID0gbWF0aC5jbGFtcChuZXdWYWx1ZSwgMCwgMTgwKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2Nhc2NhZGVEaXN0cmlidXRpb24nLCAwLjUsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5jYXNjYWRlRGlzdHJpYnV0aW9uID0gbWF0aC5jbGFtcChuZXdWYWx1ZSwgMCwgMSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdub3JtYWxPZmZzZXRCaWFzJywgMCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0Lm5vcm1hbE9mZnNldEJpYXMgPSBtYXRoLmNsYW1wKG5ld1ZhbHVlLCAwLCAxKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ3JhbmdlJywgMTAsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5hdHRlbnVhdGlvbkVuZCA9IG5ld1ZhbHVlO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnaW5uZXJDb25lQW5nbGUnLCA0MCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmlubmVyQ29uZUFuZ2xlID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdvdXRlckNvbmVBbmdsZScsIDQ1LCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQub3V0ZXJDb25lQW5nbGUgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2ZhbGxvZmZNb2RlJywgTElHSFRGQUxMT0ZGX0xJTkVBUiwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmZhbGxvZmZNb2RlID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdzaGFkb3dUeXBlJywgU0hBRE9XX1BDRjMsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5zaGFkb3dUeXBlID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCd2c21CbHVyU2l6ZScsIDExLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQudnNtQmx1clNpemUgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ3ZzbUJsdXJNb2RlJywgQkxVUl9HQVVTU0lBTiwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LnZzbUJsdXJNb2RlID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCd2c21CaWFzJywgMC4wMSAqIDAuMjUsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC52c21CaWFzID0gbWF0aC5jbGFtcChuZXdWYWx1ZSwgMCwgMSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjb29raWVBc3NldCcsIG51bGwsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Nvb2tpZUFzc2V0SWQgJiYgKChuZXdWYWx1ZSBpbnN0YW5jZW9mIEFzc2V0ICYmIG5ld1ZhbHVlLmlkID09PSB0aGlzLl9jb29raWVBc3NldElkKSB8fCBuZXdWYWx1ZSA9PT0gdGhpcy5fY29va2llQXNzZXRJZCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vbkNvb2tpZUFzc2V0UmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2Nvb2tpZUFzc2V0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIEFzc2V0KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY29va2llQXNzZXQgPSBuZXdWYWx1ZS5pZDtcbiAgICAgICAgICAgIHRoaXMuX2Nvb2tpZUFzc2V0SWQgPSBuZXdWYWx1ZS5pZDtcbiAgICAgICAgICAgIHRoaXMub25Db29raWVBc3NldEFkZChuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5fY29va2llQXNzZXRJZCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgYXNzZXQgPSB0aGlzLnN5c3RlbS5hcHAuYXNzZXRzLmdldChuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoYXNzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29va2llQXNzZXRBZGQoYXNzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb29raWVBc3NldEFkZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLmFzc2V0cy5vbignYWRkOicgKyB0aGlzLl9jb29raWVBc3NldElkLCB0aGlzLm9uQ29va2llQXNzZXRBZGQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjb29raWUnLCBudWxsLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuY29va2llID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjb29raWVJbnRlbnNpdHknLCAxLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuY29va2llSW50ZW5zaXR5ID0gbWF0aC5jbGFtcChuZXdWYWx1ZSwgMCwgMSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjb29raWVGYWxsb2ZmJywgdHJ1ZSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmNvb2tpZUZhbGxvZmYgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2Nvb2tpZUNoYW5uZWwnLCAncmdiJywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmxpZ2h0LmNvb2tpZUNoYW5uZWwgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2Nvb2tpZUFuZ2xlJywgMCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgIT09IDAgfHwgdGhpcy5jb29raWVTY2FsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb29raWVNYXRyaXgpIHRoaXMuX2Nvb2tpZU1hdHJpeCA9IG5ldyBWZWM0KCk7XG4gICAgICAgICAgICBsZXQgc2N4ID0gMTtcbiAgICAgICAgICAgIGxldCBzY3kgPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29va2llU2NhbGUpIHtcbiAgICAgICAgICAgICAgICBzY3ggPSB0aGlzLmNvb2tpZVNjYWxlLng7XG4gICAgICAgICAgICAgICAgc2N5ID0gdGhpcy5jb29raWVTY2FsZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKG5ld1ZhbHVlICogbWF0aC5ERUdfVE9fUkFEKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihuZXdWYWx1ZSAqIG1hdGguREVHX1RPX1JBRCk7XG4gICAgICAgICAgICB0aGlzLl9jb29raWVNYXRyaXguc2V0KGMgLyBzY3gsIC1zIC8gc2N4LCBzIC8gc2N5LCBjIC8gc2N5KTtcbiAgICAgICAgICAgIHRoaXMubGlnaHQuY29va2llVHJhbnNmb3JtID0gdGhpcy5fY29va2llTWF0cml4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saWdodC5jb29raWVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjb29raWVTY2FsZScsIG51bGwsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBudWxsIHx8IHRoaXMuY29va2llQW5nbGUgIT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29va2llTWF0cml4KSB0aGlzLl9jb29raWVNYXRyaXggPSBuZXcgVmVjNCgpO1xuICAgICAgICAgICAgY29uc3Qgc2N4ID0gbmV3VmFsdWUueDtcbiAgICAgICAgICAgIGNvbnN0IHNjeSA9IG5ld1ZhbHVlLnk7XG4gICAgICAgICAgICBjb25zdCBjID0gTWF0aC5jb3ModGhpcy5jb29raWVBbmdsZSAqIG1hdGguREVHX1RPX1JBRCk7XG4gICAgICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4odGhpcy5jb29raWVBbmdsZSAqIG1hdGguREVHX1RPX1JBRCk7XG4gICAgICAgICAgICB0aGlzLl9jb29raWVNYXRyaXguc2V0KGMgLyBzY3gsIC1zIC8gc2N4LCBzIC8gc2N5LCBjIC8gc2N5KTtcbiAgICAgICAgICAgIHRoaXMubGlnaHQuY29va2llVHJhbnNmb3JtID0gdGhpcy5fY29va2llTWF0cml4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saWdodC5jb29raWVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdjb29raWVPZmZzZXQnLCBudWxsLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuY29va2llT2Zmc2V0ID0gbmV3VmFsdWU7XG4gICAgfSwgdHJ1ZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdzaGFkb3dVcGRhdGVNb2RlJywgU0hBRE9XVVBEQVRFX1JFQUxUSU1FLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuc2hhZG93VXBkYXRlTW9kZSA9IG5ld1ZhbHVlO1xuICAgIH0sIHRydWUpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnbWFzaycsIDEsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5tYXNrID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdhZmZlY3REeW5hbWljJywgdHJ1ZSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubGlnaHQubWFzayB8PSBNQVNLX0FGRkVDVF9EWU5BTUlDO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saWdodC5tYXNrICY9IH5NQVNLX0FGRkVDVF9EWU5BTUlDO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlnaHQubGF5ZXJzRGlydHkoKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2FmZmVjdExpZ2h0bWFwcGVkJywgZmFsc2UsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Lm1hc2sgfD0gTUFTS19BRkZFQ1RfTElHSFRNQVBQRUQ7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWtlKSB0aGlzLmxpZ2h0Lm1hc2sgJj0gfk1BU0tfQkFLRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGlnaHQubWFzayAmPSB+TUFTS19BRkZFQ1RfTElHSFRNQVBQRUQ7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWtlKSB0aGlzLmxpZ2h0Lm1hc2sgfD0gTUFTS19CQUtFO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdiYWtlJywgZmFsc2UsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Lm1hc2sgfD0gTUFTS19CQUtFO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWZmZWN0TGlnaHRtYXBwZWQpIHRoaXMubGlnaHQubWFzayAmPSB+TUFTS19BRkZFQ1RfTElHSFRNQVBQRUQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Lm1hc2sgJj0gfk1BU0tfQkFLRTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFmZmVjdExpZ2h0bWFwcGVkKSB0aGlzLmxpZ2h0Lm1hc2sgfD0gTUFTS19BRkZFQ1RfTElHSFRNQVBQRUQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saWdodC5sYXllcnNEaXJ0eSgpO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSgnYmFrZURpcicsIHRydWUsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5saWdodC5iYWtlRGlyID0gbmV3VmFsdWU7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KCdpc1N0YXRpYycsIGZhbHNlLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMubGlnaHQuaXNTdGF0aWMgPSBuZXdWYWx1ZTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoJ2xheWVycycsIFtMQVlFUklEX1dPUkxEXSwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3lzdGVtLmFwcC5zY2VuZS5sYXllcnMuZ2V0TGF5ZXJCeUlkKG9sZFZhbHVlW2ldKTtcbiAgICAgICAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGF5ZXIucmVtb3ZlTGlnaHQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3lzdGVtLmFwcC5zY2VuZS5sYXllcnMuZ2V0TGF5ZXJCeUlkKG5ld1ZhbHVlW2ldKTtcbiAgICAgICAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuYWRkTGlnaHQodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5saWdodC5hZGRMYXllcihsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIF9saWdodFByb3BzLnB1c2goXCJwZW51bWJyYVNpemVcIik7XG4gICAgX2xpZ2h0UHJvcHNEZWZhdWx0LnB1c2goMSk7XG59XG5cbl9kZWZpbmVQcm9wcygpO1xuXG5leHBvcnQgeyBfbGlnaHRQcm9wcywgX2xpZ2h0UHJvcHNEZWZhdWx0LCBMaWdodENvbXBvbmVudCB9O1xuIl0sIm5hbWVzIjpbIl9saWdodFByb3BzIiwiX2xpZ2h0UHJvcHNEZWZhdWx0IiwiTGlnaHRDb21wb25lbnQiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInN5c3RlbSIsImVudGl0eSIsIl9jb29raWVBc3NldCIsIl9jb29raWVBc3NldElkIiwiX2Nvb2tpZUFzc2V0QWRkIiwiX2Nvb2tpZU1hdHJpeCIsImFkZExpZ2h0VG9MYXllcnMiLCJpIiwibGF5ZXJzIiwibGVuZ3RoIiwibGF5ZXIiLCJhcHAiLCJzY2VuZSIsImdldExheWVyQnlJZCIsImFkZExpZ2h0IiwibGlnaHQiLCJhZGRMYXllciIsInJlbW92ZUxpZ2h0RnJvbUxheWVycyIsInJlbW92ZUxpZ2h0IiwicmVtb3ZlTGF5ZXIiLCJvbkxheWVyc0NoYW5nZWQiLCJvbGRDb21wIiwibmV3Q29tcCIsImVuYWJsZWQiLCJvZmYiLCJvbkxheWVyQWRkZWQiLCJvbkxheWVyUmVtb3ZlZCIsIm9uIiwiaW5kZXgiLCJpbmRleE9mIiwiaWQiLCJyZWZyZXNoUHJvcGVydGllcyIsIm5hbWUiLCJvbkVuYWJsZSIsIm9uQ29va2llQXNzZXRTZXQiLCJmb3JjZUxvYWQiLCJ0eXBlIiwibG9hZEZhY2VzIiwicmVzb3VyY2UiLCJhc3NldHMiLCJsb2FkIiwib25Db29raWVBc3NldExvYWQiLCJvbkNvb2tpZUFzc2V0QWRkIiwiYXNzZXQiLCJvbkNvb2tpZUFzc2V0UmVtb3ZlIiwiY29va2llIiwib25EaXNhYmxlIiwib25SZW1vdmUiLCJkZXN0cm95IiwiY29va2llQXNzZXQiLCJzaGFkb3dVcGRhdGVPdmVycmlkZXMiLCJ2YWx1ZXMiLCJwZW51bWJyYVNpemUiLCJ2YWx1ZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImRlZmF1bHRWYWx1ZSIsInNldEZ1bmMiLCJza2lwRXF1YWxzQ2hlY2siLCJjIiwicHJvdG90eXBlIiwicHVzaCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZGF0YSIsInNldCIsIm9sZFZhbHVlIiwiY2FsbCIsImNvbmZpZ3VyYWJsZSIsIl9kZWZpbmVQcm9wcyIsIm5ld1ZhbHVlIiwib25TZXRFbmFibGVkIiwiY2hhbmdlVHlwZSIsIkNvbG9yIiwic2V0Q29sb3IiLCJpbnRlbnNpdHkiLCJsdW1pbmFuY2UiLCJMSUdIVFNIQVBFX1BVTkNUVUFMIiwic2hhcGUiLCJhZmZlY3RTcGVjdWxhcml0eSIsImNhc3RTaGFkb3dzIiwic2hhZG93RGlzdGFuY2UiLCJzaGFkb3dJbnRlbnNpdHkiLCJzaGFkb3dSZXNvbHV0aW9uIiwic2hhZG93QmlhcyIsIm1hdGgiLCJjbGFtcCIsIm51bUNhc2NhZGVzIiwiTWF0aCIsImZsb29yIiwiYmFrZU51bVNhbXBsZXMiLCJiYWtlQXJlYSIsImNhc2NhZGVEaXN0cmlidXRpb24iLCJub3JtYWxPZmZzZXRCaWFzIiwiYXR0ZW51YXRpb25FbmQiLCJpbm5lckNvbmVBbmdsZSIsIm91dGVyQ29uZUFuZ2xlIiwiTElHSFRGQUxMT0ZGX0xJTkVBUiIsImZhbGxvZmZNb2RlIiwiU0hBRE9XX1BDRjMiLCJzaGFkb3dUeXBlIiwidnNtQmx1clNpemUiLCJCTFVSX0dBVVNTSUFOIiwidnNtQmx1ck1vZGUiLCJ2c21CaWFzIiwiQXNzZXQiLCJjb29raWVJbnRlbnNpdHkiLCJjb29raWVGYWxsb2ZmIiwiY29va2llQ2hhbm5lbCIsImNvb2tpZVNjYWxlIiwiVmVjNCIsInNjeCIsInNjeSIsIngiLCJ5IiwiY29zIiwiREVHX1RPX1JBRCIsInMiLCJzaW4iLCJjb29raWVUcmFuc2Zvcm0iLCJjb29raWVBbmdsZSIsImNvb2tpZU9mZnNldCIsIlNIQURPV1VQREFURV9SRUFMVElNRSIsInNoYWRvd1VwZGF0ZU1vZGUiLCJtYXNrIiwiTUFTS19BRkZFQ1RfRFlOQU1JQyIsImxheWVyc0RpcnR5IiwiTUFTS19BRkZFQ1RfTElHSFRNQVBQRUQiLCJiYWtlIiwiTUFTS19CQUtFIiwiYWZmZWN0TGlnaHRtYXBwZWQiLCJiYWtlRGlyIiwiaXNTdGF0aWMiLCJMQVlFUklEX1dPUkxEIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBa0JNQSxNQUFBQSxXQUFXLEdBQUcsR0FBRTtBQUNoQkMsTUFBQUEsa0JBQWtCLEdBQUcsR0FBRTs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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
