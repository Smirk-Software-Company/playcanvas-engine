import { PIXELFORMAT_DXT5, TEXTURETYPE_SWIZZLEGGGR, PIXELFORMAT_RGBA8 } from '../../platform/graphics/constants.js';
import { SHADER_FORWARDHDR, GAMMA_SRGBHDR, TONEMAP_LINEAR, SHADERDEF_TANGENTS, SHADERDEF_SCREENSPACE, SHADERDEF_SKIN, SHADERDEF_INSTANCING, SHADERDEF_MORPH_POSITION, SHADERDEF_MORPH_NORMAL, SHADERDEF_MORPH_TEXTURE_BASED, BLEND_NONE, SPECULAR_PHONG, GAMMA_NONE, SHADERDEF_NOSHADOW, SHADERDEF_LM, SHADERDEF_DIRLM, SHADERDEF_LMAMBIENT, MASK_AFFECT_DYNAMIC, LIGHTTYPE_DIRECTIONAL, LIGHTTYPE_OMNI, LIGHTTYPE_SPOT, SHADERDEF_UV0, SHADERDEF_UV1, SHADERDEF_VCOLOR } from '../constants.js';
import { _matTex2D } from '../shader-lib/programs/standard.js';
import { LitMaterialOptionsBuilder } from './lit-material-options-builder.js';

const arraysEqual = (a, b) => {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i] !== b[i]) {
      return false;
    }
  }
  return true;
};
const notWhite = color => {
  return color.r !== 1 || color.g !== 1 || color.b !== 1;
};
const notBlack = color => {
  return color.r !== 0 || color.g !== 0 || color.b !== 0;
};
class StandardMaterialOptionsBuilder {
  constructor() {
    this._mapXForms = null;
  }

  // Minimal options for Depth and Shadow passes
  updateMinRef(options, scene, stdMat, objDefs, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateMinOptions(options, stdMat);
    this._updateUVOptions(options, stdMat, objDefs, true);
  }
  updateRef(options, scene, stdMat, objDefs, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateEnvOptions(options, stdMat, scene);
    this._updateMaterialOptions(options, stdMat);
    if (pass === SHADER_FORWARDHDR) {
      if (options.litOptions.gamma) options.litOptions.gamma = GAMMA_SRGBHDR;
      options.litOptions.toneMap = TONEMAP_LINEAR;
    }
    options.litOptions.hasTangents = objDefs && (objDefs & SHADERDEF_TANGENTS) !== 0;
    this._updateLightOptions(options, scene, stdMat, objDefs, sortedLights);
    this._updateUVOptions(options, stdMat, objDefs, false);
  }
  _updateSharedOptions(options, scene, stdMat, objDefs, pass) {
    options.forceUv1 = stdMat.forceUv1;

    // USER ATTRIBUTES
    if (stdMat.userAttributes) {
      options.litOptions.userAttributes = Object.fromEntries(stdMat.userAttributes.entries());
    }
    options.litOptions.chunks = stdMat.chunks || {};
    options.litOptions.pass = pass;
    options.litOptions.alphaTest = stdMat.alphaTest > 0;
    options.litOptions.blendType = stdMat.blendType;
    options.litOptions.screenSpace = objDefs && (objDefs & SHADERDEF_SCREENSPACE) !== 0;
    options.litOptions.skin = objDefs && (objDefs & SHADERDEF_SKIN) !== 0;
    options.litOptions.useInstancing = objDefs && (objDefs & SHADERDEF_INSTANCING) !== 0;
    options.litOptions.useMorphPosition = objDefs && (objDefs & SHADERDEF_MORPH_POSITION) !== 0;
    options.litOptions.useMorphNormal = objDefs && (objDefs & SHADERDEF_MORPH_NORMAL) !== 0;
    options.litOptions.useMorphTextureBased = objDefs && (objDefs & SHADERDEF_MORPH_TEXTURE_BASED) !== 0;
    options.litOptions.nineSlicedMode = stdMat.nineSlicedMode || 0;

    // clustered lighting features (in shared options as shadow pass needs this too)
    if (scene.clusteredLightingEnabled && stdMat.useLighting) {
      options.litOptions.clusteredLightingEnabled = true;
      options.litOptions.clusteredLightingCookiesEnabled = scene.lighting.cookiesEnabled;
      options.litOptions.clusteredLightingShadowsEnabled = scene.lighting.shadowsEnabled;
      options.litOptions.clusteredLightingShadowType = scene.lighting.shadowType;
      options.litOptions.clusteredLightingAreaLightsEnabled = scene.lighting.areaLightsEnabled;
    } else {
      options.litOptions.clusteredLightingEnabled = false;
      options.litOptions.clusteredLightingCookiesEnabled = false;
      options.litOptions.clusteredLightingShadowsEnabled = false;
      options.litOptions.clusteredLightingAreaLightsEnabled = false;
    }
  }
  _updateUVOptions(options, stdMat, objDefs, minimalOptions) {
    let hasUv0 = false;
    let hasUv1 = false;
    let hasVcolor = false;
    if (objDefs) {
      hasUv0 = (objDefs & SHADERDEF_UV0) !== 0;
      hasUv1 = (objDefs & SHADERDEF_UV1) !== 0;
      hasVcolor = (objDefs & SHADERDEF_VCOLOR) !== 0;
    }
    options.litOptions.vertexColors = false;
    this._mapXForms = [];
    const uniqueTextureMap = {};
    for (const p in _matTex2D) {
      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap);
    }
    this._mapXForms = null;

    // All texture related lit options
    options.litOptions.lightMapEnabled = options.lightMap;
    options.litOptions.dirLightMapEnabled = options.dirLightMap;
    options.litOptions.useHeights = options.heightMap;
    options.litOptions.useNormals = options.normalMap;
    options.litOptions.useClearCoatNormals = options.clearCoatNormalMap;
    options.litOptions.useAo = options.aoMap || options.aoVertexColor;
    options.litOptions.diffuseMapEnabled = options.diffuseMap;
  }
  _updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap) {
    const isOpacity = p === 'opacity';
    if (!minimalOptions || isOpacity) {
      const mname = p + 'Map';
      const vname = p + 'VertexColor';
      const vcname = p + 'VertexColorChannel';
      const cname = mname + 'Channel';
      const tname = mname + 'Transform';
      const uname = mname + 'Uv';
      const iname = mname + 'Identifier';

      // Avoid overriding previous lightMap properties
      if (p !== 'light') {
        options[mname] = false;
        options[iname] = undefined;
        options[cname] = '';
        options[tname] = 0;
        options[uname] = 0;
      }
      options[vname] = false;
      options[vcname] = '';
      if (isOpacity && stdMat.blendType === BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage) {
        return;
      }
      if (p !== 'height' && stdMat[vname]) {
        if (hasVcolor) {
          options[vname] = stdMat[vname];
          options[vcname] = stdMat[vcname];
          options.litOptions.vertexColors = true;
        }
      }
      if (stdMat[mname]) {
        let allow = true;
        if (stdMat[uname] === 0 && !hasUv0) allow = false;
        if (stdMat[uname] === 1 && !hasUv1) allow = false;
        if (allow) {
          // create an intermediate map between the textures and their slots
          // to ensure the unique texture mapping isn't dependent on the texture id
          // as that will change when textures are changed, even if the sharing is the same
          const mapId = stdMat[mname].id;
          let identifier = uniqueTextureMap[mapId];
          if (identifier === undefined) {
            uniqueTextureMap[mapId] = p;
            identifier = p;
          }
          options[mname] = !!stdMat[mname];
          options[iname] = identifier;
          options[tname] = this._getMapTransformID(stdMat.getUniform(tname), stdMat[uname]);
          options[cname] = stdMat[cname];
          options[uname] = stdMat[uname];
        }
      }
    }
  }
  _updateMinOptions(options, stdMat) {
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE;
    options.litOptions.lights = [];
  }
  _updateMaterialOptions(options, stdMat) {
    var _stdMat$diffuseMap, _stdMat$diffuseDetail, _stdMat$emissiveMap, _stdMat$lightMap;
    const diffuseTint = (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) && notWhite(stdMat.diffuse);
    const useSpecular = !!(stdMat.useMetalness || stdMat.specularMap || stdMat.sphereMap || stdMat.cubeMap || notBlack(stdMat.specular) || stdMat.specularityFactor > 0 && stdMat.useMetalness || stdMat.enableGGXSpecular || stdMat.clearCoat > 0);
    const useSpecularColor = !stdMat.useMetalness || stdMat.useMetalnessSpecularColor;
    const specularTint = useSpecular && (stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && notWhite(stdMat.specular);
    const specularityFactorTint = useSpecular && stdMat.useMetalnessSpecularColor && (stdMat.specularityFactorTint || stdMat.specularityFactor < 1 && !stdMat.specularityFactorMap);
    const emissiveTintColor = !stdMat.emissiveMap || notWhite(stdMat.emissive) && stdMat.emissiveTint;
    const emissiveTintIntensity = stdMat.emissiveIntensity !== 1;
    const isPackedNormalMap = stdMat.normalMap ? stdMat.normalMap.format === PIXELFORMAT_DXT5 || stdMat.normalMap.type === TEXTURETYPE_SWIZZLEGGGR : false;
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE ? 1 : 0;
    options.ambientTint = stdMat.ambientTint;
    options.diffuseTint = diffuseTint ? 2 : 0;
    options.specularTint = specularTint ? 2 : 0;
    options.specularityFactorTint = specularityFactorTint ? 1 : 0;
    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;
    options.glossTint = 1;
    options.emissiveTint = (emissiveTintColor ? 2 : 0) + (emissiveTintIntensity ? 1 : 0);
    options.diffuseEncoding = (_stdMat$diffuseMap = stdMat.diffuseMap) == null ? void 0 : _stdMat$diffuseMap.encoding;
    options.diffuseDetailEncoding = (_stdMat$diffuseDetail = stdMat.diffuseDetailMap) == null ? void 0 : _stdMat$diffuseDetail.encoding;
    options.emissiveEncoding = (_stdMat$emissiveMap = stdMat.emissiveMap) == null ? void 0 : _stdMat$emissiveMap.encoding;
    options.lightMapEncoding = (_stdMat$lightMap = stdMat.lightMap) == null ? void 0 : _stdMat$lightMap.encoding;
    options.packedNormal = isPackedNormalMap;
    options.refractionTint = stdMat.refraction !== 1.0 ? 1 : 0;
    options.refractionIndexTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.thicknessTint = stdMat.useDynamicRefraction && stdMat.thickness !== 1.0 ? 1 : 0;
    options.specularEncoding = stdMat.specularEncoding || 'linear';
    options.sheenEncoding = stdMat.sheenEncoding || 'linear';
    options.aoMapUv = stdMat.aoUvSet; // backwards compatibility
    options.aoDetail = !!stdMat.aoMap;
    options.diffuseDetail = !!stdMat.diffuseMap;
    options.normalDetail = !!stdMat.normalMap;
    options.diffuseDetailMode = stdMat.diffuseDetailMode;
    options.aoDetailMode = stdMat.aoDetailMode;
    options.clearCoatTint = stdMat.clearCoat !== 1.0 ? 1 : 0;
    options.clearCoatGloss = !!stdMat.clearCoatGloss;
    options.clearCoatGlossTint = stdMat.clearCoatGloss !== 1.0 ? 1 : 0;
    options.iorTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.iridescenceTint = stdMat.iridescence !== 1.0 ? 1 : 0;
    options.sheenTint = stdMat.useSheen && notWhite(stdMat.sheen) ? 2 : 0;
    options.sheenGlossTint = 1;
    options.glossInvert = stdMat.glossInvert;
    options.sheenGlossInvert = stdMat.sheenGlossInvert;
    options.clearCoatGlossInvert = stdMat.clearCoatGlossInvert;
    options.useSpecularColor = useSpecularColor;

    // LIT OPTIONS
    options.litOptions.separateAmbient = false; // store ambient light color in separate variable, instead of adding it to diffuse directly
    options.litOptions.useAmbientTint = stdMat.ambientTint;
    options.litOptions.customFragmentShader = stdMat.customFragmentShader;
    options.litOptions.pixelSnap = stdMat.pixelSnap;
    options.litOptions.shadingModel = stdMat.shadingModel;
    options.litOptions.ambientSH = !!stdMat.ambientSH;
    options.litOptions.fastTbn = stdMat.fastTbn;
    options.litOptions.twoSidedLighting = stdMat.twoSidedLighting;
    options.litOptions.occludeSpecular = stdMat.occludeSpecular;
    options.litOptions.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;
    options.litOptions.useMsdf = !!stdMat.msdfMap;
    options.litOptions.msdfTextAttribute = !!stdMat.msdfTextAttribute;
    options.litOptions.alphaToCoverage = stdMat.alphaToCoverage;
    options.litOptions.opacityFadesSpecular = stdMat.opacityFadesSpecular;
    options.litOptions.cubeMapProjection = stdMat.cubeMapProjection;
    options.litOptions.occludeDirect = stdMat.occludeDirect;
    options.litOptions.conserveEnergy = stdMat.conserveEnergy && stdMat.shadingModel !== SPECULAR_PHONG;
    options.litOptions.useSpecular = useSpecular;
    options.litOptions.useSpecularityFactor = (specularityFactorTint || !!stdMat.specularityFactorMap) && stdMat.useMetalnessSpecularColor;
    options.litOptions.enableGGXSpecular = stdMat.enableGGXSpecular;
    options.litOptions.fresnelModel = stdMat.fresnelModel;
    options.litOptions.useRefraction = (stdMat.refraction || !!stdMat.refractionMap) && (stdMat.useDynamicRefraction || !!options.litOptions.reflectionSource);
    options.litOptions.useClearCoat = !!stdMat.clearCoat;
    options.litOptions.useSheen = stdMat.useSheen;
    options.litOptions.useIridescence = stdMat.useIridescence && stdMat.iridescence !== 0.0;
    options.litOptions.useMetalness = stdMat.useMetalness;
    options.litOptions.useDynamicRefraction = stdMat.useDynamicRefraction;
  }
  _updateEnvOptions(options, stdMat, scene) {
    options.litOptions.fog = stdMat.useFog ? scene.fog : 'none';
    options.litOptions.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : GAMMA_NONE;
    options.litOptions.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;
    options.litOptions.fixSeams = stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;
    const isPhong = stdMat.shadingModel === SPECULAR_PHONG;
    let usingSceneEnv = false;

    // source of environment reflections is as follows:
    if (stdMat.envAtlas && stdMat.cubeMap && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
      options.litOptions.reflectionCubemapEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.cubeMap) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.sphereMap) {
      options.litOptions.reflectionSource = 'sphereMap';
      options.litOptions.reflectionEncoding = stdMat.sphereMap.encoding;
    } else if (stdMat.useSkybox && scene.envAtlas && scene.skybox && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      options.litOptions.reflectionCubemapEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.skybox) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else {
      options.litOptions.reflectionSource = null;
      options.litOptions.reflectionEncoding = null;
    }

    // source of environment ambient is as follows:
    if (stdMat.ambientSH && !isPhong) {
      options.litOptions.ambientSource = 'ambientSH';
      options.litOptions.ambientEncoding = null;
    } else {
      const envAtlas = stdMat.envAtlas || (stdMat.useSkybox && scene.envAtlas ? scene.envAtlas : null);
      if (envAtlas && !isPhong) {
        options.litOptions.ambientSource = 'envAtlas';
        options.litOptions.ambientEncoding = envAtlas.encoding;
      } else {
        options.litOptions.ambientSource = 'constant';
        options.litOptions.ambientEncoding = null;
      }
    }

    // TODO: add a test for if non skybox cubemaps have rotation (when this is supported) - for now assume no non-skybox cubemap rotation
    options.litOptions.skyboxIntensity = usingSceneEnv && (scene.skyboxIntensity !== 1 || scene.physicalUnits);
    options.litOptions.useCubeMapRotation = usingSceneEnv && scene._skyboxRotationShaderInclude;
  }
  _updateLightOptions(options, scene, stdMat, objDefs, sortedLights) {
    options.lightMap = false;
    options.lightMapChannel = '';
    options.lightMapUv = 0;
    options.lightMapTransform = 0;
    options.litOptions.lightMapWithoutAmbient = false;
    options.dirLightMap = false;
    if (objDefs) {
      options.litOptions.noShadow = (objDefs & SHADERDEF_NOSHADOW) !== 0;
      if ((objDefs & SHADERDEF_LM) !== 0) {
        options.lightMapEncoding = scene.lightmapPixelFormat === PIXELFORMAT_RGBA8 ? 'rgbm' : 'linear';
        options.lightMap = true;
        options.lightMapChannel = 'rgb';
        options.lightMapUv = 1;
        options.lightMapTransform = 0;
        options.litOptions.lightMapWithoutAmbient = !stdMat.lightMap;
        if ((objDefs & SHADERDEF_DIRLM) !== 0) {
          options.dirLightMap = true;
        }

        // if lightmaps contain baked ambient light, disable real-time ambient light
        if ((objDefs & SHADERDEF_LMAMBIENT) !== 0) {
          options.litOptions.lightMapWithoutAmbient = false;
        }
      }
    }
    if (stdMat.useLighting) {
      const lightsFiltered = [];
      const mask = objDefs ? objDefs >> 16 : MASK_AFFECT_DYNAMIC;

      // mask to select lights (dynamic vs lightmapped) when using clustered lighting
      options.litOptions.lightMaskDynamic = !!(mask & MASK_AFFECT_DYNAMIC);
      if (sortedLights) {
        LitMaterialOptionsBuilder.collectLights(LIGHTTYPE_DIRECTIONAL, sortedLights[LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);
        LitMaterialOptionsBuilder.collectLights(LIGHTTYPE_OMNI, sortedLights[LIGHTTYPE_OMNI], lightsFiltered, mask);
        LitMaterialOptionsBuilder.collectLights(LIGHTTYPE_SPOT, sortedLights[LIGHTTYPE_SPOT], lightsFiltered, mask);
      }
      options.litOptions.lights = lightsFiltered;
    } else {
      options.litOptions.lights = [];
    }
    if (options.litOptions.lights.length === 0) {
      options.litOptions.noShadow = true;
    }
  }
  _getMapTransformID(xform, uv) {
    if (!xform) return 0;
    let xforms = this._mapXForms[uv];
    if (!xforms) {
      xforms = [];
      this._mapXForms[uv] = xforms;
    }
    for (let i = 0; i < xforms.length; i++) {
      if (arraysEqual(xforms[i][0].value, xform[0].value) && arraysEqual(xforms[i][1].value, xform[1].value)) {
        return i + 1;
      }
    }
    return xforms.push(xform);
  }
}

export { StandardMaterialOptionsBuilder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhbmRhcmQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2NlbmUvbWF0ZXJpYWxzL3N0YW5kYXJkLW1hdGVyaWFsLW9wdGlvbnMtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIFBJWEVMRk9STUFUX0RYVDUsIFBJWEVMRk9STUFUX1JHQkE4LCBURVhUVVJFVFlQRV9TV0laWkxFR0dHUlxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMRU5EX05PTkUsXG4gICAgR0FNTUFfTk9ORSwgR0FNTUFfU1JHQkhEUixcbiAgICBMSUdIVFRZUEVfRElSRUNUSU9OQUwsIExJR0hUVFlQRV9PTU5JLCBMSUdIVFRZUEVfU1BPVCxcbiAgICBNQVNLX0FGRkVDVF9EWU5BTUlDLFxuICAgIFNIQURFUl9GT1JXQVJESERSLFxuICAgIFNIQURFUkRFRl9ESVJMTSwgU0hBREVSREVGX0lOU1RBTkNJTkcsIFNIQURFUkRFRl9MTSwgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OLCBTSEFERVJERUZfTU9SUEhfTk9STUFMLCBTSEFERVJERUZfTk9TSEFET1csIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VELFxuICAgIFNIQURFUkRFRl9TQ1JFRU5TUEFDRSwgU0hBREVSREVGX1NLSU4sIFNIQURFUkRFRl9UQU5HRU5UUywgU0hBREVSREVGX1VWMCwgU0hBREVSREVGX1VWMSwgU0hBREVSREVGX1ZDT0xPUiwgU0hBREVSREVGX0xNQU1CSUVOVCxcbiAgICBUT05FTUFQX0xJTkVBUixcbiAgICBTUEVDVUxBUl9QSE9OR1xufSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgX21hdFRleDJEIH0gZnJvbSAnLi4vc2hhZGVyLWxpYi9wcm9ncmFtcy9zdGFuZGFyZC5qcyc7XG5pbXBvcnQgeyBMaXRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIH0gZnJvbSAnLi9saXQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzJztcblxuY29uc3QgYXJyYXlzRXF1YWwgPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IG5vdFdoaXRlID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yLnIgIT09IDEgfHwgY29sb3IuZyAhPT0gMSB8fCBjb2xvci5iICE9PSAxO1xufTtcblxuY29uc3Qgbm90QmxhY2sgPSAoY29sb3IpID0+IHtcbiAgICByZXR1cm4gY29sb3IuciAhPT0gMCB8fCBjb2xvci5nICE9PSAwIHx8IGNvbG9yLmIgIT09IDA7XG59O1xuXG5jbGFzcyBTdGFuZGFyZE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIE1pbmltYWwgb3B0aW9ucyBmb3IgRGVwdGggYW5kIFNoYWRvdyBwYXNzZXNcbiAgICB1cGRhdGVNaW5SZWYob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlUmVmKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHBhc3MsIHNvcnRlZExpZ2h0cykge1xuICAgICAgICB0aGlzLl91cGRhdGVTaGFyZWRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHBhc3MpO1xuICAgICAgICB0aGlzLl91cGRhdGVFbnZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgc2NlbmUpO1xuICAgICAgICB0aGlzLl91cGRhdGVNYXRlcmlhbE9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgaWYgKHBhc3MgPT09IFNIQURFUl9GT1JXQVJESERSKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saXRPcHRpb25zLmdhbW1hKSBvcHRpb25zLmxpdE9wdGlvbnMuZ2FtbWEgPSBHQU1NQV9TUkdCSERSO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnRvbmVNYXAgPSBUT05FTUFQX0xJTkVBUjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuaGFzVGFuZ2VudHMgPSBvYmpEZWZzICYmICgob2JqRGVmcyAmIFNIQURFUkRFRl9UQU5HRU5UUykgIT09IDApO1xuICAgICAgICB0aGlzLl91cGRhdGVMaWdodE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc29ydGVkTGlnaHRzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgZmFsc2UpO1xuICAgIH1cblxuICAgIF91cGRhdGVTaGFyZWRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHBhc3MpIHtcbiAgICAgICAgb3B0aW9ucy5mb3JjZVV2MSA9IHN0ZE1hdC5mb3JjZVV2MTtcblxuICAgICAgICAvLyBVU0VSIEFUVFJJQlVURVNcbiAgICAgICAgaWYgKHN0ZE1hdC51c2VyQXR0cmlidXRlcykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZXJBdHRyaWJ1dGVzID0gT2JqZWN0LmZyb21FbnRyaWVzKHN0ZE1hdC51c2VyQXR0cmlidXRlcy5lbnRyaWVzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNodW5rcyA9IHN0ZE1hdC5jaHVua3MgfHwge307XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5wYXNzID0gcGFzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVGVzdCA9IHN0ZE1hdC5hbHBoYVRlc3QgPiAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYmxlbmRUeXBlID0gc3RkTWF0LmJsZW5kVHlwZTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2NyZWVuU3BhY2UgPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX1NDUkVFTlNQQUNFKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNraW4gPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX1NLSU4pICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlSW5zdGFuY2luZyA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfSU5TVEFOQ0lORykgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNb3JwaFBvc2l0aW9uID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9QT1NJVElPTikgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNb3JwaE5vcm1hbCA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfTU9SUEhfTk9STUFMKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoVGV4dHVyZUJhc2VkID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VEKSAhPT0gMDtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubmluZVNsaWNlZE1vZGUgPSBzdGRNYXQubmluZVNsaWNlZE1vZGUgfHwgMDtcblxuICAgICAgICAvLyBjbHVzdGVyZWQgbGlnaHRpbmcgZmVhdHVyZXMgKGluIHNoYXJlZCBvcHRpb25zIGFzIHNoYWRvdyBwYXNzIG5lZWRzIHRoaXMgdG9vKVxuICAgICAgICBpZiAoc2NlbmUuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkICYmIHN0ZE1hdC51c2VMaWdodGluZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdDb29raWVzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLmNvb2tpZXNFbmFibGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93c0VuYWJsZWQgPSBzY2VuZS5saWdodGluZy5zaGFkb3dzRW5hYmxlZDtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd1R5cGUgPSBzY2VuZS5saWdodGluZy5zaGFkb3dUeXBlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQgPSBzY2VuZS5saWdodGluZy5hcmVhTGlnaHRzRW5hYmxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVVVk9wdGlvbnMob3B0aW9ucywgc3RkTWF0LCBvYmpEZWZzLCBtaW5pbWFsT3B0aW9ucykge1xuICAgICAgICBsZXQgaGFzVXYwID0gZmFsc2U7XG4gICAgICAgIGxldCBoYXNVdjEgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1Zjb2xvciA9IGZhbHNlO1xuICAgICAgICBpZiAob2JqRGVmcykge1xuICAgICAgICAgICAgaGFzVXYwID0gKG9iakRlZnMgJiBTSEFERVJERUZfVVYwKSAhPT0gMDtcbiAgICAgICAgICAgIGhhc1V2MSA9IChvYmpEZWZzICYgU0hBREVSREVGX1VWMSkgIT09IDA7XG4gICAgICAgICAgICBoYXNWY29sb3IgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9WQ09MT1IpICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnZlcnRleENvbG9ycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBbXTtcblxuICAgICAgICBjb25zdCB1bmlxdWVUZXh0dXJlTWFwID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcCBpbiBfbWF0VGV4MkQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRleE9wdGlvbnMob3B0aW9ucywgc3RkTWF0LCBwLCBoYXNVdjAsIGhhc1V2MSwgaGFzVmNvbG9yLCBtaW5pbWFsT3B0aW9ucywgdW5pcXVlVGV4dHVyZU1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwWEZvcm1zID0gbnVsbDtcblxuICAgICAgICAvLyBBbGwgdGV4dHVyZSByZWxhdGVkIGxpdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcEVuYWJsZWQgPSBvcHRpb25zLmxpZ2h0TWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZGlyTGlnaHRNYXBFbmFibGVkID0gb3B0aW9ucy5kaXJMaWdodE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUhlaWdodHMgPSBvcHRpb25zLmhlaWdodE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU5vcm1hbHMgPSBvcHRpb25zLm5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUNsZWFyQ29hdE5vcm1hbHMgPSBvcHRpb25zLmNsZWFyQ29hdE5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFvID0gb3B0aW9ucy5hb01hcCB8fCBvcHRpb25zLmFvVmVydGV4Q29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kaWZmdXNlTWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlmZnVzZU1hcDtcbiAgICB9XG5cbiAgICBfdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKSB7XG4gICAgICAgIGNvbnN0IGlzT3BhY2l0eSA9IHAgPT09ICdvcGFjaXR5JztcblxuICAgICAgICBpZiAoIW1pbmltYWxPcHRpb25zIHx8IGlzT3BhY2l0eSkge1xuICAgICAgICAgICAgY29uc3QgbW5hbWUgPSBwICsgJ01hcCc7XG4gICAgICAgICAgICBjb25zdCB2bmFtZSA9IHAgKyAnVmVydGV4Q29sb3InO1xuICAgICAgICAgICAgY29uc3QgdmNuYW1lID0gcCArICdWZXJ0ZXhDb2xvckNoYW5uZWwnO1xuICAgICAgICAgICAgY29uc3QgY25hbWUgPSBtbmFtZSArICdDaGFubmVsJztcbiAgICAgICAgICAgIGNvbnN0IHRuYW1lID0gbW5hbWUgKyAnVHJhbnNmb3JtJztcbiAgICAgICAgICAgIGNvbnN0IHVuYW1lID0gbW5hbWUgKyAnVXYnO1xuICAgICAgICAgICAgY29uc3QgaW5hbWUgPSBtbmFtZSArICdJZGVudGlmaWVyJztcblxuICAgICAgICAgICAgLy8gQXZvaWQgb3ZlcnJpZGluZyBwcmV2aW91cyBsaWdodE1hcCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAocCAhPT0gJ2xpZ2h0Jykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNbbW5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1tjbmFtZV0gPSAnJztcbiAgICAgICAgICAgICAgICBvcHRpb25zW3RuYW1lXSA9IDA7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9uc1t2bmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoaXNPcGFjaXR5ICYmIHN0ZE1hdC5ibGVuZFR5cGUgPT09IEJMRU5EX05PTkUgJiYgc3RkTWF0LmFscGhhVGVzdCA9PT0gMC4wICYmICFzdGRNYXQuYWxwaGFUb0NvdmVyYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocCAhPT0gJ2hlaWdodCcgJiYgc3RkTWF0W3ZuYW1lXSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNWY29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t2bmFtZV0gPSBzdGRNYXRbdm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3ZjbmFtZV0gPSBzdGRNYXRbdmNuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0ZE1hdFttbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgYWxsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChzdGRNYXRbdW5hbWVdID09PSAwICYmICFoYXNVdjApIGFsbG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZE1hdFt1bmFtZV0gPT09IDEgJiYgIWhhc1V2MSkgYWxsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoYWxsb3cpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYW4gaW50ZXJtZWRpYXRlIG1hcCBiZXR3ZWVuIHRoZSB0ZXh0dXJlcyBhbmQgdGhlaXIgc2xvdHNcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gZW5zdXJlIHRoZSB1bmlxdWUgdGV4dHVyZSBtYXBwaW5nIGlzbid0IGRlcGVuZGVudCBvbiB0aGUgdGV4dHVyZSBpZFxuICAgICAgICAgICAgICAgICAgICAvLyBhcyB0aGF0IHdpbGwgY2hhbmdlIHdoZW4gdGV4dHVyZXMgYXJlIGNoYW5nZWQsIGV2ZW4gaWYgdGhlIHNoYXJpbmcgaXMgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwSWQgPSBzdGRNYXRbbW5hbWVdLmlkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaWRlbnRpZmllciA9IHVuaXF1ZVRleHR1cmVNYXBbbWFwSWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVUZXh0dXJlTWFwW21hcElkXSA9IHA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyID0gcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbbW5hbWVdID0gISFzdGRNYXRbbW5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2luYW1lXSA9IGlkZW50aWZpZXI7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdG5hbWVdID0gdGhpcy5fZ2V0TWFwVHJhbnNmb3JtSUQoc3RkTWF0LmdldFVuaWZvcm0odG5hbWUpLCBzdGRNYXRbdW5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tjbmFtZV0gPSBzdGRNYXRbY25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3VuYW1lXSA9IHN0ZE1hdFt1bmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KSB7XG4gICAgICAgIG9wdGlvbnMub3BhY2l0eVRpbnQgPSBzdGRNYXQub3BhY2l0eSAhPT0gMSAmJiBzdGRNYXQuYmxlbmRUeXBlICE9PSBCTEVORF9OT05FO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRzID0gW107XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1hdGVyaWFsT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQpIHtcbiAgICAgICAgY29uc3QgZGlmZnVzZVRpbnQgPSAoc3RkTWF0LmRpZmZ1c2VUaW50IHx8ICghc3RkTWF0LmRpZmZ1c2VNYXAgJiYgIXN0ZE1hdC5kaWZmdXNlVmVydGV4Q29sb3IpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFdoaXRlKHN0ZE1hdC5kaWZmdXNlKTtcblxuICAgICAgICBjb25zdCB1c2VTcGVjdWxhciA9ICEhKHN0ZE1hdC51c2VNZXRhbG5lc3MgfHwgc3RkTWF0LnNwZWN1bGFyTWFwIHx8IHN0ZE1hdC5zcGhlcmVNYXAgfHwgc3RkTWF0LmN1YmVNYXAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RCbGFjayhzdGRNYXQuc3BlY3VsYXIpIHx8IChzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3IgPiAwICYmIHN0ZE1hdC51c2VNZXRhbG5lc3MpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkTWF0LmVuYWJsZUdHWFNwZWN1bGFyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0ZE1hdC5jbGVhckNvYXQgPiAwKSk7XG5cbiAgICAgICAgY29uc3QgdXNlU3BlY3VsYXJDb2xvciA9ICghc3RkTWF0LnVzZU1ldGFsbmVzcyB8fCBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvcik7XG4gICAgICAgIGNvbnN0IHNwZWN1bGFyVGludCA9IHVzZVNwZWN1bGFyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRNYXQuc3BlY3VsYXJUaW50IHx8ICghc3RkTWF0LnNwZWN1bGFyTWFwICYmICFzdGRNYXQuc3BlY3VsYXJWZXJ0ZXhDb2xvcikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFdoaXRlKHN0ZE1hdC5zcGVjdWxhcik7XG5cbiAgICAgICAgY29uc3Qgc3BlY3VsYXJpdHlGYWN0b3JUaW50ID0gdXNlU3BlY3VsYXIgJiYgc3RkTWF0LnVzZU1ldGFsbmVzc1NwZWN1bGFyQ29sb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0ZE1hdC5zcGVjdWxhcml0eUZhY3RvclRpbnQgfHwgKHN0ZE1hdC5zcGVjdWxhcml0eUZhY3RvciA8IDEgJiYgIXN0ZE1hdC5zcGVjdWxhcml0eUZhY3Rvck1hcCkpO1xuXG4gICAgICAgIGNvbnN0IGVtaXNzaXZlVGludENvbG9yID0gIXN0ZE1hdC5lbWlzc2l2ZU1hcCB8fCAobm90V2hpdGUoc3RkTWF0LmVtaXNzaXZlKSAmJiBzdGRNYXQuZW1pc3NpdmVUaW50KTtcbiAgICAgICAgY29uc3QgZW1pc3NpdmVUaW50SW50ZW5zaXR5ID0gKHN0ZE1hdC5lbWlzc2l2ZUludGVuc2l0eSAhPT0gMSk7XG5cbiAgICAgICAgY29uc3QgaXNQYWNrZWROb3JtYWxNYXAgPSBzdGRNYXQubm9ybWFsTWFwID8gKHN0ZE1hdC5ub3JtYWxNYXAuZm9ybWF0ID09PSBQSVhFTEZPUk1BVF9EWFQ1IHx8IHN0ZE1hdC5ub3JtYWxNYXAudHlwZSA9PT0gVEVYVFVSRVRZUEVfU1dJWlpMRUdHR1IpIDogZmFsc2U7XG5cbiAgICAgICAgb3B0aW9ucy5vcGFjaXR5VGludCA9IChzdGRNYXQub3BhY2l0eSAhPT0gMSAmJiBzdGRNYXQuYmxlbmRUeXBlICE9PSBCTEVORF9OT05FKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLmFtYmllbnRUaW50ID0gc3RkTWF0LmFtYmllbnRUaW50O1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VUaW50ID0gZGlmZnVzZVRpbnQgPyAyIDogMDtcbiAgICAgICAgb3B0aW9ucy5zcGVjdWxhclRpbnQgPSBzcGVjdWxhclRpbnQgPyAyIDogMDtcbiAgICAgICAgb3B0aW9ucy5zcGVjdWxhcml0eUZhY3RvclRpbnQgPSBzcGVjdWxhcml0eUZhY3RvclRpbnQgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5tZXRhbG5lc3NUaW50ID0gKHN0ZE1hdC51c2VNZXRhbG5lc3MgJiYgc3RkTWF0Lm1ldGFsbmVzcyA8IDEpID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuZ2xvc3NUaW50ID0gMTtcbiAgICAgICAgb3B0aW9ucy5lbWlzc2l2ZVRpbnQgPSAoZW1pc3NpdmVUaW50Q29sb3IgPyAyIDogMCkgKyAoZW1pc3NpdmVUaW50SW50ZW5zaXR5ID8gMSA6IDApO1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VFbmNvZGluZyA9IHN0ZE1hdC5kaWZmdXNlTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRGV0YWlsRW5jb2RpbmcgPSBzdGRNYXQuZGlmZnVzZURldGFpbE1hcD8uZW5jb2Rpbmc7XG4gICAgICAgIG9wdGlvbnMuZW1pc3NpdmVFbmNvZGluZyA9IHN0ZE1hdC5lbWlzc2l2ZU1hcD8uZW5jb2Rpbmc7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBFbmNvZGluZyA9IHN0ZE1hdC5saWdodE1hcD8uZW5jb2Rpbmc7XG4gICAgICAgIG9wdGlvbnMucGFja2VkTm9ybWFsID0gaXNQYWNrZWROb3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMucmVmcmFjdGlvblRpbnQgPSAoc3RkTWF0LnJlZnJhY3Rpb24gIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5yZWZyYWN0aW9uSW5kZXhUaW50ID0gKHN0ZE1hdC5yZWZyYWN0aW9uSW5kZXggIT09IDEuMCAvIDEuNSkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy50aGlja25lc3NUaW50ID0gKHN0ZE1hdC51c2VEeW5hbWljUmVmcmFjdGlvbiAmJiBzdGRNYXQudGhpY2tuZXNzICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuc3BlY3VsYXJFbmNvZGluZyA9IHN0ZE1hdC5zcGVjdWxhckVuY29kaW5nIHx8ICdsaW5lYXInO1xuICAgICAgICBvcHRpb25zLnNoZWVuRW5jb2RpbmcgPSBzdGRNYXQuc2hlZW5FbmNvZGluZyB8fCAnbGluZWFyJztcbiAgICAgICAgb3B0aW9ucy5hb01hcFV2ID0gc3RkTWF0LmFvVXZTZXQ7IC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgIG9wdGlvbnMuYW9EZXRhaWwgPSAhIXN0ZE1hdC5hb01hcDtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRGV0YWlsID0gISFzdGRNYXQuZGlmZnVzZU1hcDtcbiAgICAgICAgb3B0aW9ucy5ub3JtYWxEZXRhaWwgPSAhIXN0ZE1hdC5ub3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZURldGFpbE1vZGUgPSBzdGRNYXQuZGlmZnVzZURldGFpbE1vZGU7XG4gICAgICAgIG9wdGlvbnMuYW9EZXRhaWxNb2RlID0gc3RkTWF0LmFvRGV0YWlsTW9kZTtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRUaW50ID0gKHN0ZE1hdC5jbGVhckNvYXQgIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zcyA9ICEhc3RkTWF0LmNsZWFyQ29hdEdsb3NzO1xuICAgICAgICBvcHRpb25zLmNsZWFyQ29hdEdsb3NzVGludCA9IChzdGRNYXQuY2xlYXJDb2F0R2xvc3MgIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5pb3JUaW50ID0gc3RkTWF0LnJlZnJhY3Rpb25JbmRleCAhPT0gMS4wIC8gMS41ID8gMSA6IDA7XG5cbiAgICAgICAgb3B0aW9ucy5pcmlkZXNjZW5jZVRpbnQgPSBzdGRNYXQuaXJpZGVzY2VuY2UgIT09IDEuMCA/IDEgOiAwO1xuXG4gICAgICAgIG9wdGlvbnMuc2hlZW5UaW50ID0gKHN0ZE1hdC51c2VTaGVlbiAmJiBub3RXaGl0ZShzdGRNYXQuc2hlZW4pKSA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNoZWVuR2xvc3NUaW50ID0gMTtcblxuICAgICAgICBvcHRpb25zLmdsb3NzSW52ZXJ0ID0gc3RkTWF0Lmdsb3NzSW52ZXJ0O1xuICAgICAgICBvcHRpb25zLnNoZWVuR2xvc3NJbnZlcnQgPSBzdGRNYXQuc2hlZW5HbG9zc0ludmVydDtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc0ludmVydCA9IHN0ZE1hdC5jbGVhckNvYXRHbG9zc0ludmVydDtcblxuICAgICAgICBvcHRpb25zLnVzZVNwZWN1bGFyQ29sb3IgPSB1c2VTcGVjdWxhckNvbG9yO1xuXG4gICAgICAgIC8vIExJVCBPUFRJT05TXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zZXBhcmF0ZUFtYmllbnQgPSBmYWxzZTsgICAgLy8gc3RvcmUgYW1iaWVudCBsaWdodCBjb2xvciBpbiBzZXBhcmF0ZSB2YXJpYWJsZSwgaW5zdGVhZCBvZiBhZGRpbmcgaXQgdG8gZGlmZnVzZSBkaXJlY3RseVxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQW1iaWVudFRpbnQgPSBzdGRNYXQuYW1iaWVudFRpbnQ7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jdXN0b21GcmFnbWVudFNoYWRlciA9IHN0ZE1hdC5jdXN0b21GcmFnbWVudFNoYWRlcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnBpeGVsU25hcCA9IHN0ZE1hdC5waXhlbFNuYXA7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNoYWRpbmdNb2RlbCA9IHN0ZE1hdC5zaGFkaW5nTW9kZWw7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U0ggPSAhIXN0ZE1hdC5hbWJpZW50U0g7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mYXN0VGJuID0gc3RkTWF0LmZhc3RUYm47XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50d29TaWRlZExpZ2h0aW5nID0gc3RkTWF0LnR3b1NpZGVkTGlnaHRpbmc7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5vY2NsdWRlU3BlY3VsYXIgPSBzdGRNYXQub2NjbHVkZVNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZVNwZWN1bGFyRmxvYXQgPSAoc3RkTWF0Lm9jY2x1ZGVTcGVjdWxhckludGVuc2l0eSAhPT0gMS4wKTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTXNkZiA9ICEhc3RkTWF0Lm1zZGZNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5tc2RmVGV4dEF0dHJpYnV0ZSA9ICEhc3RkTWF0Lm1zZGZUZXh0QXR0cmlidXRlO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbHBoYVRvQ292ZXJhZ2UgPSBzdGRNYXQuYWxwaGFUb0NvdmVyYWdlO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub3BhY2l0eUZhZGVzU3BlY3VsYXIgPSBzdGRNYXQub3BhY2l0eUZhZGVzU3BlY3VsYXI7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmN1YmVNYXBQcm9qZWN0aW9uID0gc3RkTWF0LmN1YmVNYXBQcm9qZWN0aW9uO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5vY2NsdWRlRGlyZWN0ID0gc3RkTWF0Lm9jY2x1ZGVEaXJlY3Q7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jb25zZXJ2ZUVuZXJneSA9IHN0ZE1hdC5jb25zZXJ2ZUVuZXJneSAmJiBzdGRNYXQuc2hhZGluZ01vZGVsICE9PSBTUEVDVUxBUl9QSE9ORztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNwZWN1bGFyID0gdXNlU3BlY3VsYXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTcGVjdWxhcml0eUZhY3RvciA9IChzcGVjdWxhcml0eUZhY3RvclRpbnQgfHwgISFzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3JNYXApICYmIHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZW5hYmxlR0dYU3BlY3VsYXIgPSBzdGRNYXQuZW5hYmxlR0dYU3BlY3VsYXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mcmVzbmVsTW9kZWwgPSBzdGRNYXQuZnJlc25lbE1vZGVsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlUmVmcmFjdGlvbiA9IChzdGRNYXQucmVmcmFjdGlvbiB8fCAhIXN0ZE1hdC5yZWZyYWN0aW9uTWFwKSAmJiAoc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uIHx8ICEhb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ2xlYXJDb2F0ID0gISFzdGRNYXQuY2xlYXJDb2F0O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU2hlZW4gPSBzdGRNYXQudXNlU2hlZW47XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJcmlkZXNjZW5jZSA9IHN0ZE1hdC51c2VJcmlkZXNjZW5jZSAmJiBzdGRNYXQuaXJpZGVzY2VuY2UgIT09IDAuMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1ldGFsbmVzcyA9IHN0ZE1hdC51c2VNZXRhbG5lc3M7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VEeW5hbWljUmVmcmFjdGlvbiA9IHN0ZE1hdC51c2VEeW5hbWljUmVmcmFjdGlvbjtcbiAgICB9XG5cbiAgICBfdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKSB7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mb2cgPSBzdGRNYXQudXNlRm9nID8gc2NlbmUuZm9nIDogJ25vbmUnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZ2FtbWEgPSBzdGRNYXQudXNlR2FtbWFUb25lbWFwID8gc2NlbmUuZ2FtbWFDb3JyZWN0aW9uIDogR0FNTUFfTk9ORTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnRvbmVNYXAgPSBzdGRNYXQudXNlR2FtbWFUb25lbWFwID8gc2NlbmUudG9uZU1hcHBpbmcgOiAtMTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmZpeFNlYW1zID0gKHN0ZE1hdC5jdWJlTWFwID8gc3RkTWF0LmN1YmVNYXAuZml4Q3ViZW1hcFNlYW1zIDogZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGlzUGhvbmcgPSBzdGRNYXQuc2hhZGluZ01vZGVsID09PSBTUEVDVUxBUl9QSE9ORztcblxuICAgICAgICBsZXQgdXNpbmdTY2VuZUVudiA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHNvdXJjZSBvZiBlbnZpcm9ubWVudCByZWZsZWN0aW9ucyBpcyBhcyBmb2xsb3dzOlxuICAgICAgICBpZiAoc3RkTWF0LmVudkF0bGFzICYmIHN0ZE1hdC5jdWJlTWFwICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhc0hRJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkN1YmVtYXBFbmNvZGluZyA9IHN0ZE1hdC5jdWJlTWFwLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC5lbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQuY3ViZU1hcCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnY3ViZU1hcCc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmN1YmVNYXAuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnNwaGVyZU1hcCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnc3BoZXJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuc3BoZXJlTWFwLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgJiYgc2NlbmUuc2t5Ym94ICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhc0hRJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzY2VuZS5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uQ3ViZW1hcEVuY29kaW5nID0gc2NlbmUuc2t5Ym94LmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5za3lib3gpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2N1YmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLnNreWJveC5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzb3VyY2Ugb2YgZW52aXJvbm1lbnQgYW1iaWVudCBpcyBhcyBmb2xsb3dzOlxuICAgICAgICBpZiAoc3RkTWF0LmFtYmllbnRTSCAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnYW1iaWVudFNIJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZW52QXRsYXMgPSBzdGRNYXQuZW52QXRsYXMgfHwgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgPyBzY2VuZS5lbnZBdGxhcyA6IG51bGwpO1xuICAgICAgICAgICAgaWYgKGVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBlbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnY29uc3RhbnQnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIGEgdGVzdCBmb3IgaWYgbm9uIHNreWJveCBjdWJlbWFwcyBoYXZlIHJvdGF0aW9uICh3aGVuIHRoaXMgaXMgc3VwcG9ydGVkKSAtIGZvciBub3cgYXNzdW1lIG5vIG5vbi1za3lib3ggY3ViZW1hcCByb3RhdGlvblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2t5Ym94SW50ZW5zaXR5ID0gdXNpbmdTY2VuZUVudiAmJiAoc2NlbmUuc2t5Ym94SW50ZW5zaXR5ICE9PSAxIHx8IHNjZW5lLnBoeXNpY2FsVW5pdHMpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ3ViZU1hcFJvdGF0aW9uID0gdXNpbmdTY2VuZUVudiAmJiBzY2VuZS5fc2t5Ym94Um90YXRpb25TaGFkZXJJbmNsdWRlO1xuICAgIH1cblxuICAgIF91cGRhdGVMaWdodE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXAgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcENoYW5uZWwgPSAnJztcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcFV2ID0gMDtcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcFRyYW5zZm9ybSA9IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50ID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnMuZGlyTGlnaHRNYXAgPSBmYWxzZTtcblxuICAgICAgICBpZiAob2JqRGVmcykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm5vU2hhZG93ID0gKG9iakRlZnMgJiBTSEFERVJERUZfTk9TSEFET1cpICE9PSAwO1xuXG4gICAgICAgICAgICBpZiAoKG9iakRlZnMgJiBTSEFERVJERUZfTE0pICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcEVuY29kaW5nID0gc2NlbmUubGlnaHRtYXBQaXhlbEZvcm1hdCA9PT0gUElYRUxGT1JNQVRfUkdCQTggPyAncmdibScgOiAnbGluZWFyJztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwQ2hhbm5lbCA9ICdyZ2InO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBVdiA9IDE7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcFRyYW5zZm9ybSA9IDA7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwV2l0aG91dEFtYmllbnQgPSAhc3RkTWF0LmxpZ2h0TWFwO1xuICAgICAgICAgICAgICAgIGlmICgob2JqRGVmcyAmIFNIQURFUkRFRl9ESVJMTSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kaXJMaWdodE1hcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgbGlnaHRtYXBzIGNvbnRhaW4gYmFrZWQgYW1iaWVudCBsaWdodCwgZGlzYWJsZSByZWFsLXRpbWUgYW1iaWVudCBsaWdodFxuICAgICAgICAgICAgICAgIGlmICgob2JqRGVmcyAmIFNIQURFUkRFRl9MTUFNQklFTlQpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0ZE1hdC51c2VMaWdodGluZykge1xuICAgICAgICAgICAgY29uc3QgbGlnaHRzRmlsdGVyZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBvYmpEZWZzID8gKG9iakRlZnMgPj4gMTYpIDogTUFTS19BRkZFQ1RfRFlOQU1JQztcblxuICAgICAgICAgICAgLy8gbWFzayB0byBzZWxlY3QgbGlnaHRzIChkeW5hbWljIHZzIGxpZ2h0bWFwcGVkKSB3aGVuIHVzaW5nIGNsdXN0ZXJlZCBsaWdodGluZ1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFza0R5bmFtaWMgPSAhIShtYXNrICYgTUFTS19BRkZFQ1RfRFlOQU1JQyk7XG5cbiAgICAgICAgICAgIGlmIChzb3J0ZWRMaWdodHMpIHtcbiAgICAgICAgICAgICAgICBMaXRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyLmNvbGxlY3RMaWdodHMoTElHSFRUWVBFX0RJUkVDVElPTkFMLCBzb3J0ZWRMaWdodHNbTElHSFRUWVBFX0RJUkVDVElPTkFMXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2spO1xuICAgICAgICAgICAgICAgIExpdE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIuY29sbGVjdExpZ2h0cyhMSUdIVFRZUEVfT01OSSwgc29ydGVkTGlnaHRzW0xJR0hUVFlQRV9PTU5JXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2spO1xuICAgICAgICAgICAgICAgIExpdE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIuY29sbGVjdExpZ2h0cyhMSUdIVFRZUEVfU1BPVCwgc29ydGVkTGlnaHRzW0xJR0hUVFlQRV9TUE9UXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IGxpZ2h0c0ZpbHRlcmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubm9TaGFkb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldE1hcFRyYW5zZm9ybUlEKHhmb3JtLCB1dikge1xuICAgICAgICBpZiAoIXhmb3JtKSByZXR1cm4gMDtcblxuICAgICAgICBsZXQgeGZvcm1zID0gdGhpcy5fbWFwWEZvcm1zW3V2XTtcbiAgICAgICAgaWYgKCF4Zm9ybXMpIHtcbiAgICAgICAgICAgIHhmb3JtcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFwWEZvcm1zW3V2XSA9IHhmb3JtcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlzRXF1YWwoeGZvcm1zW2ldWzBdLnZhbHVlLCB4Zm9ybVswXS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBhcnJheXNFcXVhbCh4Zm9ybXNbaV1bMV0udmFsdWUsIHhmb3JtWzFdLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4Zm9ybXMucHVzaCh4Zm9ybSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTdGFuZGFyZE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIgfTtcbiJdLCJuYW1lcyI6WyJhcnJheXNFcXVhbCIsImEiLCJiIiwibGVuZ3RoIiwiaSIsIm5vdFdoaXRlIiwiY29sb3IiLCJyIiwiZyIsIm5vdEJsYWNrIiwiU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIiwiY29uc3RydWN0b3IiLCJfbWFwWEZvcm1zIiwidXBkYXRlTWluUmVmIiwib3B0aW9ucyIsInNjZW5lIiwic3RkTWF0Iiwib2JqRGVmcyIsInBhc3MiLCJzb3J0ZWRMaWdodHMiLCJfdXBkYXRlU2hhcmVkT3B0aW9ucyIsIl91cGRhdGVNaW5PcHRpb25zIiwiX3VwZGF0ZVVWT3B0aW9ucyIsInVwZGF0ZVJlZiIsIl91cGRhdGVFbnZPcHRpb25zIiwiX3VwZGF0ZU1hdGVyaWFsT3B0aW9ucyIsIlNIQURFUl9GT1JXQVJESERSIiwibGl0T3B0aW9ucyIsImdhbW1hIiwiR0FNTUFfU1JHQkhEUiIsInRvbmVNYXAiLCJUT05FTUFQX0xJTkVBUiIsImhhc1RhbmdlbnRzIiwiU0hBREVSREVGX1RBTkdFTlRTIiwiX3VwZGF0ZUxpZ2h0T3B0aW9ucyIsImZvcmNlVXYxIiwidXNlckF0dHJpYnV0ZXMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJjaHVua3MiLCJhbHBoYVRlc3QiLCJibGVuZFR5cGUiLCJzY3JlZW5TcGFjZSIsIlNIQURFUkRFRl9TQ1JFRU5TUEFDRSIsInNraW4iLCJTSEFERVJERUZfU0tJTiIsInVzZUluc3RhbmNpbmciLCJTSEFERVJERUZfSU5TVEFOQ0lORyIsInVzZU1vcnBoUG9zaXRpb24iLCJTSEFERVJERUZfTU9SUEhfUE9TSVRJT04iLCJ1c2VNb3JwaE5vcm1hbCIsIlNIQURFUkRFRl9NT1JQSF9OT1JNQUwiLCJ1c2VNb3JwaFRleHR1cmVCYXNlZCIsIlNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VEIiwibmluZVNsaWNlZE1vZGUiLCJjbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQiLCJ1c2VMaWdodGluZyIsImNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQiLCJsaWdodGluZyIsImNvb2tpZXNFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCIsInNoYWRvd3NFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dUeXBlIiwic2hhZG93VHlwZSIsImNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQiLCJhcmVhTGlnaHRzRW5hYmxlZCIsIm1pbmltYWxPcHRpb25zIiwiaGFzVXYwIiwiaGFzVXYxIiwiaGFzVmNvbG9yIiwiU0hBREVSREVGX1VWMCIsIlNIQURFUkRFRl9VVjEiLCJTSEFERVJERUZfVkNPTE9SIiwidmVydGV4Q29sb3JzIiwidW5pcXVlVGV4dHVyZU1hcCIsInAiLCJfbWF0VGV4MkQiLCJfdXBkYXRlVGV4T3B0aW9ucyIsImxpZ2h0TWFwRW5hYmxlZCIsImxpZ2h0TWFwIiwiZGlyTGlnaHRNYXBFbmFibGVkIiwiZGlyTGlnaHRNYXAiLCJ1c2VIZWlnaHRzIiwiaGVpZ2h0TWFwIiwidXNlTm9ybWFscyIsIm5vcm1hbE1hcCIsInVzZUNsZWFyQ29hdE5vcm1hbHMiLCJjbGVhckNvYXROb3JtYWxNYXAiLCJ1c2VBbyIsImFvTWFwIiwiYW9WZXJ0ZXhDb2xvciIsImRpZmZ1c2VNYXBFbmFibGVkIiwiZGlmZnVzZU1hcCIsImlzT3BhY2l0eSIsIm1uYW1lIiwidm5hbWUiLCJ2Y25hbWUiLCJjbmFtZSIsInRuYW1lIiwidW5hbWUiLCJpbmFtZSIsInVuZGVmaW5lZCIsIkJMRU5EX05PTkUiLCJhbHBoYVRvQ292ZXJhZ2UiLCJhbGxvdyIsIm1hcElkIiwiaWQiLCJpZGVudGlmaWVyIiwiX2dldE1hcFRyYW5zZm9ybUlEIiwiZ2V0VW5pZm9ybSIsIm9wYWNpdHlUaW50Iiwib3BhY2l0eSIsImxpZ2h0cyIsIl9zdGRNYXQkZGlmZnVzZU1hcCIsIl9zdGRNYXQkZGlmZnVzZURldGFpbCIsIl9zdGRNYXQkZW1pc3NpdmVNYXAiLCJfc3RkTWF0JGxpZ2h0TWFwIiwiZGlmZnVzZVRpbnQiLCJkaWZmdXNlVmVydGV4Q29sb3IiLCJkaWZmdXNlIiwidXNlU3BlY3VsYXIiLCJ1c2VNZXRhbG5lc3MiLCJzcGVjdWxhck1hcCIsInNwaGVyZU1hcCIsImN1YmVNYXAiLCJzcGVjdWxhciIsInNwZWN1bGFyaXR5RmFjdG9yIiwiZW5hYmxlR0dYU3BlY3VsYXIiLCJjbGVhckNvYXQiLCJ1c2VTcGVjdWxhckNvbG9yIiwidXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvciIsInNwZWN1bGFyVGludCIsInNwZWN1bGFyVmVydGV4Q29sb3IiLCJzcGVjdWxhcml0eUZhY3RvclRpbnQiLCJzcGVjdWxhcml0eUZhY3Rvck1hcCIsImVtaXNzaXZlVGludENvbG9yIiwiZW1pc3NpdmVNYXAiLCJlbWlzc2l2ZSIsImVtaXNzaXZlVGludCIsImVtaXNzaXZlVGludEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiaXNQYWNrZWROb3JtYWxNYXAiLCJmb3JtYXQiLCJQSVhFTEZPUk1BVF9EWFQ1IiwidHlwZSIsIlRFWFRVUkVUWVBFX1NXSVpaTEVHR0dSIiwiYW1iaWVudFRpbnQiLCJtZXRhbG5lc3NUaW50IiwibWV0YWxuZXNzIiwiZ2xvc3NUaW50IiwiZGlmZnVzZUVuY29kaW5nIiwiZW5jb2RpbmciLCJkaWZmdXNlRGV0YWlsRW5jb2RpbmciLCJkaWZmdXNlRGV0YWlsTWFwIiwiZW1pc3NpdmVFbmNvZGluZyIsImxpZ2h0TWFwRW5jb2RpbmciLCJwYWNrZWROb3JtYWwiLCJyZWZyYWN0aW9uVGludCIsInJlZnJhY3Rpb24iLCJyZWZyYWN0aW9uSW5kZXhUaW50IiwicmVmcmFjdGlvbkluZGV4IiwidGhpY2tuZXNzVGludCIsInVzZUR5bmFtaWNSZWZyYWN0aW9uIiwidGhpY2tuZXNzIiwic3BlY3VsYXJFbmNvZGluZyIsInNoZWVuRW5jb2RpbmciLCJhb01hcFV2IiwiYW9VdlNldCIsImFvRGV0YWlsIiwiZGlmZnVzZURldGFpbCIsIm5vcm1hbERldGFpbCIsImRpZmZ1c2VEZXRhaWxNb2RlIiwiYW9EZXRhaWxNb2RlIiwiY2xlYXJDb2F0VGludCIsImNsZWFyQ29hdEdsb3NzIiwiY2xlYXJDb2F0R2xvc3NUaW50IiwiaW9yVGludCIsImlyaWRlc2NlbmNlVGludCIsImlyaWRlc2NlbmNlIiwic2hlZW5UaW50IiwidXNlU2hlZW4iLCJzaGVlbiIsInNoZWVuR2xvc3NUaW50IiwiZ2xvc3NJbnZlcnQiLCJzaGVlbkdsb3NzSW52ZXJ0IiwiY2xlYXJDb2F0R2xvc3NJbnZlcnQiLCJzZXBhcmF0ZUFtYmllbnQiLCJ1c2VBbWJpZW50VGludCIsImN1c3RvbUZyYWdtZW50U2hhZGVyIiwicGl4ZWxTbmFwIiwic2hhZGluZ01vZGVsIiwiYW1iaWVudFNIIiwiZmFzdFRibiIsInR3b1NpZGVkTGlnaHRpbmciLCJvY2NsdWRlU3BlY3VsYXIiLCJvY2NsdWRlU3BlY3VsYXJGbG9hdCIsIm9jY2x1ZGVTcGVjdWxhckludGVuc2l0eSIsInVzZU1zZGYiLCJtc2RmTWFwIiwibXNkZlRleHRBdHRyaWJ1dGUiLCJvcGFjaXR5RmFkZXNTcGVjdWxhciIsImN1YmVNYXBQcm9qZWN0aW9uIiwib2NjbHVkZURpcmVjdCIsImNvbnNlcnZlRW5lcmd5IiwiU1BFQ1VMQVJfUEhPTkciLCJ1c2VTcGVjdWxhcml0eUZhY3RvciIsImZyZXNuZWxNb2RlbCIsInVzZVJlZnJhY3Rpb24iLCJyZWZyYWN0aW9uTWFwIiwicmVmbGVjdGlvblNvdXJjZSIsInVzZUNsZWFyQ29hdCIsInVzZUlyaWRlc2NlbmNlIiwiZm9nIiwidXNlRm9nIiwidXNlR2FtbWFUb25lbWFwIiwiZ2FtbWFDb3JyZWN0aW9uIiwiR0FNTUFfTk9ORSIsInRvbmVNYXBwaW5nIiwiZml4U2VhbXMiLCJmaXhDdWJlbWFwU2VhbXMiLCJpc1Bob25nIiwidXNpbmdTY2VuZUVudiIsImVudkF0bGFzIiwicmVmbGVjdGlvbkVuY29kaW5nIiwicmVmbGVjdGlvbkN1YmVtYXBFbmNvZGluZyIsInVzZVNreWJveCIsInNreWJveCIsImFtYmllbnRTb3VyY2UiLCJhbWJpZW50RW5jb2RpbmciLCJza3lib3hJbnRlbnNpdHkiLCJwaHlzaWNhbFVuaXRzIiwidXNlQ3ViZU1hcFJvdGF0aW9uIiwiX3NreWJveFJvdGF0aW9uU2hhZGVySW5jbHVkZSIsImxpZ2h0TWFwQ2hhbm5lbCIsImxpZ2h0TWFwVXYiLCJsaWdodE1hcFRyYW5zZm9ybSIsImxpZ2h0TWFwV2l0aG91dEFtYmllbnQiLCJub1NoYWRvdyIsIlNIQURFUkRFRl9OT1NIQURPVyIsIlNIQURFUkRFRl9MTSIsImxpZ2h0bWFwUGl4ZWxGb3JtYXQiLCJQSVhFTEZPUk1BVF9SR0JBOCIsIlNIQURFUkRFRl9ESVJMTSIsIlNIQURFUkRFRl9MTUFNQklFTlQiLCJsaWdodHNGaWx0ZXJlZCIsIm1hc2siLCJNQVNLX0FGRkVDVF9EWU5BTUlDIiwibGlnaHRNYXNrRHluYW1pYyIsIkxpdE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIiLCJjb2xsZWN0TGlnaHRzIiwiTElHSFRUWVBFX0RJUkVDVElPTkFMIiwiTElHSFRUWVBFX09NTkkiLCJMSUdIVFRZUEVfU1BPVCIsInhmb3JtIiwidXYiLCJ4Zm9ybXMiLCJ2YWx1ZSIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7O0FBa0JBLE1BQU1BLFdBQVcsR0FBR0EsQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEtBQUs7QUFDMUIsRUFBQSxJQUFJRCxDQUFDLENBQUNFLE1BQU0sS0FBS0QsQ0FBQyxDQUFDQyxNQUFNLEVBQUU7QUFDdkIsSUFBQSxPQUFPLEtBQUssQ0FBQTtBQUNoQixHQUFBO0FBQ0EsRUFBQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0gsQ0FBQyxDQUFDRSxNQUFNLEVBQUUsRUFBRUMsQ0FBQyxFQUFFO0lBQy9CLElBQUlILENBQUMsQ0FBQ0csQ0FBQyxDQUFDLEtBQUtG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
